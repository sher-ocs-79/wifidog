# $Id$

2010-02-25 Geneviève Bastien <gbastien@versatic.net>
 * Added constraint to hotspot_graph_element_has_content (#701)
 * Bug fix: when creating new nodes and node groups, they are now automatically added as children of the network in the new hierarchy structure.
 * Added possibility to have a deployed geolocated node not show on map (quick fix) (#706)
 * When producing anonymised data export, two files are produced, one for the geolocated nodes and one for the connections (#705)
 * Additions and bug fixes to web service: can now logout and auth returns both error code and message
 * Starting work on #707 as needed

2010-01-28 Geneviève Bastien <gbastien@versatic.net>
 * Modification to the web service to include authentication
 * Added function generateConnectionTokenNoSession in User.php for the web service to generate tokens
 * Fixed #691, content for login page, introduced in [1435]

2010-01-21 Geneviève Bastien <gbastien@versatic.net>
 * Permission error when deleting user role (#689)
 * Patch by Steven Kurylo to remove white spaces from authenticator arguments (#612)
 * Search for stakeholders has now same case-sensitivity as the user's network (#662)
 * Corrected (#613) patch by Hélène Gauthier

2009-12-17 Geneviève Bastien <gbastien@versatic.net>
 * Code refactoring: Network, NodeGroup, Node inherit from HotspotGraphElement (#677)

2009-12-08 Geneviève Bastien <gbastien@versatic.net>
 * Added the concept of node group and hierarchy (in a not too clean way to start with, I will refactor the code before adding new functionalities to nodes and groups) (#246)
 * Login and signup and logout script now receive the mac address as parameter (#675)
 * Initial abuse control verification now made with the mac address (#676)
 
2009-10-30 Geneviève Bastien <gbastien@versatic.net>
  * Network can now be set as case insensitive.  Emails are now never case sensitive and usernames' case sensitivity is consistent with network settings (#616)
  * Yet again some tab alignment
  
2009-10-02 Geneviève Bastien <gbastien@versatic.net>
  * Email address format now corresponds to newer standard RFC2822 (#624)
  * Corrected typos and tab alignment

2009-09-18 Geneviève Bastien <gbastien@versatic.net>
  * Fixed #502 (Note: this fix works only if all gateways have config value SSLAvailable Yes, or else the server determines that even though the connection originated from HTTP by those gateways, it should use SSL and in this case, the port is not right.  Should need a way to specify port in Wifidog Virtual Hosts or get the apache port)
  * Some realignment of tabs while documenting

2009-08-20 Genevieve Bastien <gbastien@versatic.net>
  * Updated dependencies  #599
  * Now gets the temp dir of the OS instead of hardcoding the /tmp dir in the install script #588

2009-07-26 Robin Jones
	* Addded New Geocoders Yahoo and Google.
	* Geocoder now defaults to google if no country specific Geocoder is found (in future, this will be made selectable by network)
	* Fixed Postcode search on Find Hotspot Map #436
	* Added search for user by email closes #417
	* Added validation to networkID to stop database errors, closes #458
	

2009-07-10 Benoit Grégoire <benoitg@coeus.ca>
	* Fix bug editing user profiles introduced in [1339].

2009-07-03 Benoit Grégoire <benoitg@coeus.ca>
	* Refactor signup.php.  The code flow is still annoyingly unclear and complex, but the file is shorter and hopefully easier to debug (and hopefully fixes #593)

2009-06-26 Benoit Grégoire <benoitg@coeus.ca>
	* Updated greek translation by bill@e-texnologia.gr and strzol@gmail.com, still needs some work.
	
2009-06-25 Benoit Grégoire <benoitg@coeus.ca>
	* Fix #559
	* Fix #574
	* Fix bug introduced in 2009-06-23 patch for signing up new users.
	
2009-06-23 Benoit Grégoire <benoitg@coeus.ca>
	* Commit another slightly modified patch contributed by Zap Sherbrooke:  Allow generating publicly accessible statistics for the various nodes.  Enabled node per node.  Note that a cron must be setup for those stats to actually be generated.

2009-06-09 Benoit Grégoire <benoitg@coeus.ca>
	* Commit slightly modified patch contributed by Zap Sherbrooke:  Allow using the multiple account feature while keeping a common userbase.  Enabled in server configuration.

2008-10-13 Robin Jones
	* fixed #498 curley brace missing in portal.php

2008-10-02 Robin Jones
	* Support for redirecting to the users original URL instead of portal

2008-09-23 Robin Jones
	* Oops, forgot to include new style sheet into the previous commit.
	* Made Login template easier to edit using CSS and added example to NetworkFusion theme pack, This closes #343 .

2008-08-31 Robin Jones
	* Created ability to have a themes setting file to define commonly asked for features.
	* Created a new "Network Theme Pack" to show off the settings file and improve the user experience.

2008-08-31 Robin Jones
	* Updated some table row elements to support Odd/Even CSS. This also closes #382

2008-08-28 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix #492

2008-08-13 Robin Jones
	* Fixed dependency change for Smarty reported by cristian@lalineapeluda.com

2008-08-07 Benoit Grégoire  <benoitg@coeus.ca>
	* Updated Spanish translation by jlms77@gmail.com

2008-07-13 Benoit Grégoire  <benoitg@coeus.ca>
	* Add new Catalan translation by Christian Lorenzo cristian@lalineapeluda.com
	* Rebuild transaltions and initial schema.

2008-06-12 Benoit Grégoire  <benoitg@coeus.ca>
	* Add NODE_PERM_BYPASS_DYNAMIC_ABUSE_CONTROL permission.  User is allowed to exceed dynamic abuse control limits at this node.
	* Stakeholder selector UI tweaks

2008-06-12 Benoit Grégoire  <benoitg@coeus.ca>
	* Use bigint for dynamic abuse control byte values
	* UIAllowedBandwidth:  Format values in a human-readable way

2008-06-10 Benoit Grégoire  <benoitg@coeus.ca>
	* Authenticator.php:  Fix SQL error closing connections.
	* auth/index.php:  Probably fix the "Access denied" message when user click twice problem that resurfaced.
	* At long last, implement operational Dynamic abuse control (out of the embryo of the token architecture)!  Configurable in Network preferences if you have the permissions.  Unlike static limits, this is a sliding window (typically a month) during which user have a bandwidth and connection duration limit, per node, and totalled throughout the network.
	* UIAllowedBandwidth:  New, simplistic content type to show the user how much of his allocation he consumed.  Off course, the goal is actually to make it into a pretty graph....

2008-06-10 Benoit Grégoire  <benoitg@coeus.ca>
	* Begin implementing http://dev.wifidog.org/wiki/doc/developer/TokenArchitecture.  This is a first step:  SQL schema changes, and adapt the current functionnality to the new schema to have a baseline.  Everything should work as before, please notify me if you notice anything strange...

2008-04-27 Benoit Grégoire  <benoitg@coeus.ca>
	* Fixed dependencies on simplepie.  Simplepie removed a stable branch from their SVN.  Why on earth would one do that!?!?
	* For an existing install, you may want to remove the feedpressreview and simplepie directories and re-install them from the Dependencies page under the "Server" menu.  
	
2008-04-02 Robin Jones
        * Fixed #325 password validation
        * Added a new banner for the install script

2008-04-01 Benoit Grégoire  <benoitg@coeus.ca>
	* Apply patch from dc.ml@oxys.net to allow commas in authentication parameter strings.  This is sometimes necessary for LDAP, and fixes #342

2008-03-31 Robin Jones
        * Minor install script improvements, including making changelog accessible and colour in the permissions tables

2008-03-21 Benoit Grégoire  <benoitg@coeus.ca>
	* generic_object_admin.php (and others):  Fix bug reported by  Jerry DeFoe (ProfileTemplates couldn't be created) + some UI tweaks.
	
2008-03-21 Benoit Grégoire  <benoitg@coeus.ca>
	* hotspot_status.php:  Fix bug in XSLT procesing.

2008-03-15 Benoit Grégoire  <benoitg@coeus.ca>
	* Content.php:  Eliminate the generation of a large number of useless SQL queries when getting Content metadata.
	* User.php: Do the same thing for getCurrentUser()
	
2008-03-12 Benoit Grégoire  <benoitg@coeus.ca>
    * Major performance improvement in content manager for content groups picking items with limits on how many times they can be displayed.
	* Improve performance of Content::getLastDisplayedTimestamp(), will mostly show when using the RSS aggregator, especially when postgres has little memory
	
2008-03-06 Benoit Grégoire  <benoitg@coeus.ca>
    * Fix #438.  Not Node::getNumOnlineUsers() will count every users connected (once for every account), except the splash-only user + every mac adresses connecting as the splash-only user.
	* Network::getNumOnlineUsers() use the same counting method
	* Network.php:  Reformat variables names according to coding standards.
	
2008-03-02 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix #431: Don't even display the Signup button if none of the networks allow signing up.  Allow Authenticators to define the signup URL themselves.

2008-02-27 Damien Raude-Morvan <drazzib@drazzib.com>
    * Update french translation

2008-02-12 Max Horváth  <max.horvath@freenet.de>
    * Fixed issue in install.php when POSIX is unavailable to PHP
    * Fixed package name of Cache_Lite in Dependency class
    * Updated mail address of Max Horváth

2008-01-16 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix #42 (Node cannot be renamed)

2008-01-16 Benoit Grégoire  <benoitg@coeus.ca>
	* Temporary patch for problem introduced in [1319]:  the menu did not display where main_area_top is empty (which is actually most places in the admin interface).  This shouldn't have been done in the first place, as it doesn't fix the problem the menu cause of theming, and worse causes people to edit MainUI_Display.tpl, causing such errors.  A network config option should have been provided to allow selecting in what area the menu goes.

2008-01-13 Benoit Grégoire  <benoitg@coeus.ca>
	* Permission.php:  Fix typo that caused "Tried to check if an object of class Server has a permission of type Network" errors.  Changed the id from NETWORK_PERM_ADD_NEW_NODE to NETWORK_PERM_ADD_NODE so it will auto-delete the corrupted permission.

2008-01-11 Benoit Grégoire  <benoitg@coeus.ca>
	* Use the Dependency system to include PHPMailer and tweak Mail.php.  You'll need to re-run the Dpenedency stage of the install script. This allows:  Translating PHPMailer error messages, Actually having PHPMailer error messages, and displaying them properly.

2008-01-09 Benoit Grégoire  <benoitg@coeus.ca>
	* Add gettext calls, fixes #413

2008-01-06 Benoit Grégoire  <benoitg@coeus.ca>
	* Some more work on the permission system.  At long last, close #358

2008-01-05 Benoit Grégoire  <benoitg@coeus.ca>
	* French translation update from Frederic Sheedy (sheedf@gmail.com).  Closes #411

2007-12-30 Benoit Grégoire  <benoitg@coeus.ca>
	* Workaround IE6 braindeadness in the base theme.  Closes  #406.  Credit goes to Frederic Sheedy (sheedf@gmail.com)

2007-12-23 Benoit Grégoire  <benoitg@coeus.ca>
	* Node.php:  Fix bug in setCurrentNode() reported by Vacio
	* install.php, Dependency.php:  Commit install script improvements by Robin Jones

2007-11-29 Benoit Grégoire  <benoitg@coeus.ca>
	* signup.tpl, lost_username.tpl, lost_password.tpl, resend_validation.tpl:  Move the error div near the button for coherence with the login page (and for the same reason).  In fact it was worse than the login page used to be:  the error message during signup could appear completely below the page for a user with a low resolution screeen (or big font), giving the form the apereance of doing absolutely nothing (it stumped even me as I was trying to help a user).

2007-11-23 Benoit Grégoire  <benoitg@coeus.ca>
	* UIUserList.php: Don't force it to be persistent, it prevented users from deleting it.

2007-11-15 Benoit Grégoire  <benoitg@coeus.ca>
	* Menu.php: Make individual submenus, and individual menu items CSS-targetable.

2007-11-05 Benoit Grégoire  <benoitg@coeus.ca>
	* Commit most of Robin Jones install script improvements.

2007-10-22 Benoit Grégoire  <benoitg@coeus.ca>
	* Major security fix:  Fix the authenticator for a security breach where a user could get Internet access using an empty username.  LocalUser and LDAP were definitely vulnerable, RADIUS may have been.

2007-10-01 Benoit Grégoire  <benoitg@coeus.ca>
	* Remove Array type hinting in Security.php. It's not supported in PHP < 5.1.  Fixes  #393

2007-10-01 Benoit Grégoire  <benoitg@coeus.ca>
	* Commited slightly modified patch by Robin Jones to implement #184

2007-09-25 Benoit Grégoire  <benoitg@coeus.ca>
	* Menu.php:  Fix a number of improper call time pass by reference

2007-09-24 Benoit Grégoire  <benoitg@coeus.ca>
	* locale/gensmarty.pl:  Heads up translators:  There was a bug in the regex; about 20 strings in the smarty templates were missed.
	* Updated french translation

2007-09-20 Benoit Grégoire  <benoitg@coeus.ca>
	* install.php:  Hopefully fix #384, and remove pages unlikely to be implemented for 1.0

2007-09-18 Benoit Grégoire  <benoitg@coeus.ca>
	* portal/index.php:  Add a call to garbage_collect() to fix #367

2007-09-17 Benoit Grégoire  <benoitg@coeus.ca>
	* SmartyWifidog:  If ANY of the mandatory dependencies (not just smarty) are missing, user will be redirected to the install script
	* Move Smarty detection and install to common framework.  Take this opportunity to move to upgrade to latest Smarty since people will have to re-run the install script anyway.
	* Fix #381 by applying patch from leandro@texnet.it, mea-culpa, I didn't know I broke the install script.

2007-09-12 Benoit Grégoire  <benoitg@coeus.ca>
	* Scratch a few itches:  Fix the link from node admin to stats, minor CSS fixes

2007-09-11 Benoit Grégoire  <benoitg@coeus.ca>
	* VitrualHost.php: Close #373: Apply patch from leandro@texnet.it to fix mispelled table name in delete() method
	* Close #374:  Add preliminary italian translation from leandro@texnet.it

2007-09-10 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix #370:  Dropdown Javascript menus didn't retract in Internet Explorer.  My thanks to Robin Jones for at least proposing a solution to the problem, even if it didn't work in this case.  The problem turned out to be a wrong regex in the IE workaround javascript.

2007-09-09 Benoit Grégoire  <benoitg@coeus.ca>
	* Early OpenID support.  The auth server can now be used as an identity provider, with your profile page as the identity URL

2007-09-08 Benoit Grégoire  <benoitg@coeus.ca>
	* Dependencies installation:  Improve layout, add embryo of unified install sytem (currently works for tarballs).  Improve error output.
	* Add dependencies for future OpenId support
	* AbstractDb:  Make sure to throw an exception, avoiding a blank page when trying to access the index page on a auth server that hasn't been setup.  Patch by Mathieu Bruno.

2007-09-04 Benoit Grégoire  <benoitg@coeus.ca>
	* cron/page.php:  Improve script to output what it did.
	* fix typo in Node::DEPRECATEDgetTechnicalOfficers(), that prevented getting the users to page in case a node is down.
	* Delete leftover login.tpl
	* Apply patch from leandro@texnet.it to fix #371

2007-08-30 Benoit Grégoire  <benoitg@coeus.ca>
	* install.php:  Experimental fix for #353

2007-08-28 Benoit Grégoire  <benoitg@coeus.ca>
	* install.php:  Fix bug that would manifest as a blank page at the "Checking Dependency" stage if PHP's postgres module was not installed.  Thanks to drfense for providing an account on a server where the bug occured.

2007-08-27 Benoit Grégoire  <benoitg@coeus.ca>
	* Added vacuum_last_resort_fix_backup_restore_database.sh.  This is DANGEROUS, and should only be run when your neglected (or had problem with) your VACCUMs,
	your database has become slow as molases, and VACUUM FULL is not an option because your db has grown too big.

2007-08-27 Benoit Grégoire  <benoitg@coeus.ca>
	* install.php:  Fix #368: Correct the svn source for SimplePie 1.0, the 1.0b2 branch was unexpectedly renamed.
	Note that this forces a rather disruptive change.  To update an existing install, you'll need to run the following commands:
	cd lib/simplepie
	svn switch http://svn.simplepie.org/simplepie/branches/1.0/
	But this also requires a recent feedpressreview (revision 13), so you'll also need to run:
	cd lib/feedpressreview
	svn update

2007-08-06 Benoit Grégoire  <benoitg@coeus.ca>
	* Allow users with NETWORK_PERM_EDIT_ANY_NODE_CONFIG to edit gateway id's

2007-08-05 Damien Raude-Morvan <drazzib@drazzib.com>
	* Security.php : A permission can be acquired by a user via multiples roles, this means
	that, for the moment, we have to use DISTINCT to check if a user had correct permission
	(otherwise the SQL request is invalid : subrequest return more than one line).
	* Locale.php : If the browser send Accept-Value header without any quality (i.e. q=x.y)
	we have to use order of the locales to select between them (and don't use a rand() number).

2007-08-04 Benoit Grégoire  <benoitg@coeus.ca>
	* Portugese (from portugal) translation contributed by MiguelCMA
	* locale/gen.sh:  Major change to .po file generation.  Now uses msgmerge so we won't completely throw away previous efforts by translators (will preserve comments, and use fuzzy translation).  It's also much faster (seconds instead of minutes), and produces less strings to translate.

2007-08-03 Damien Raude-Morvan <drazzib@drazzib.com>
	* init_php.php : Fix #363 by applying patch from Leandro to correctly set timezone info in Wifidog
	if set in configuration (allow Wifidog to work not only in Canada :).

2007-07-26 Benoit Grégoire  <benoitg@coeus.ca>
	* DependenciesList::hook_menu():  Fix menu path conflict with Server::hook_menu();
	* Server::getAdminUI(): Add output to help debug timezone problems.

2007-07-25 Benoit Grégoire  <benoitg@coeus.ca>
	* VirtualHost.php:  Fix critical problem preventing new Virtual Hosts from being created.  Thanks to Miguel for pointing this out!ssss
	* StatisticGraph.php:  Fix a bad return by reference that prevented graphs from being displayed.  Thanks to Daniel Lemay for finding it.
	* Content.php:  Fix warning when selecting owners. Fix dangling metadata objects when deleting an object.
	* Statistics::getDateRangeUI():  Make days end a minute before midnight, not a minute before noon, DOH!
	* import_user_database.php:  Fix permission call systax error.  That does't mean the script works as a whole, it hasn't been maintained for years.
	* DependenciesList.php:  Make it extend GenericDataObject after all.  Fixes problem displaying it in the generic editor.

2007-07-22 Benoit Grégoire  <benoitg@coeus.ca>
	* generic_object_admin.pgp:  Fix problems when creating new content objects.  Fix problems including the content type classes.
	* Avatar.php:  Make the resampling code support any format available to GD, not just jpeg.

2007-07-22 Benoit Grégoire  <benoitg@coeus.ca>
	* More schema compatibility defensive coding.  Comment out all SET commands in the schema

2007-07-22 Benoit Grégoire  <benoitg@coeus.ca>
	* install.php:  Fix #215

2007-07-21 Benoit Grégoire  <benoitg@coeus.ca>
	* AnonymisedDataExport.php:  Work around the huge memory requirements this report used to have.
	* install.php:  Strip create procedural language from schema, that requires superuser anyway.
					Strip a few other things to hopefully allow it to work again with postgresql 7.4, but I need the full output of the commant "psql -f wifidog-postgres-schema.sql", run from the sql directory of a svn checkout, from someone still running 7.4, otherwise I can't do much.
	* DependenciesList.php:  New class.  Allow seeing the dependency list once the server is installed.  A small step towards centralized dependency installation.

2007-07-20 Benoit Grégoire  <benoitg@coeus.ca>
	* At long last, implement #9:  Automatic new node creation.  When attempting to login from an unknown node, the user (if he has the permissions) will be prompted to create the node, or "steal" en existing one (for hardware swaps).
	* Refactor Node:getSelectNodeUI().
	* Menu.php:  Fix small oversight causing menu not to clear.

2007-07-19 Benoit Grégoire  <benoitg@coeus.ca>
	UIUserList fixes:
	* Node::getRecentUsers():  Get the 5 most recent users, not some random users in the last week.  Also, exclude users currently logged-in.
	* Node::getActiveUsers():  Function was unbearably slow, now limit the search space to the last 3 months.  Get the 5 user who connected on the most differents days, instead of users with the worst wireless card ;)
	* schema_validate.php: Add index for timestamp_in on connection table.

2007-07-17 Benoit Grégoire  <benoitg@coeus.ca>
	* Use last_heartbeat_sys_uptime untill #354 is fixed

2007-07-16  Benoit Grégoire  <benoitg@coeus.ca>
	* Fix display of wifidog uptime in node list
	* Preliminary skinning of the menu
	* Network::getNumOnlineUsers():  Fix #40 by counting active connexion tokens, not distinct user id's.  That way users logged in twice (splash-only, or username if allowed in network config) will be counted twice.
	* UIUserList_getUserUI.tpl:  Fix #337
	* Node.php:  Improve getCurrentRealNode()
	* Implement #4:  Allow the user to easily come back to the portal by typing in the root auth server adress from a hotspot.
	* Log the system information sent with the gateway since almost forever:  sys_uptime, sys_memfree, sys_load, wifidog_uptime
	* NodeStatus.php:  Include the above information
	* node_list.html:  Include wifidog_uptime if the hotspot is up.
	* Menu.php:  Sort menus alphabetically according to the user's locale.  TODO:  Implement menu weights.
	* NodeLists:  Only list node types that have dependencies met in the menu.  Refactor the NodeLists for proper object-orientation.

2007-07-12  Benoit Grégoire  <benoitg@coeus.ca>
	* MainUI.php:  Fix label problem in language chooser.

2007-07-12  Benoit Grégoire  <benoitg@coeus.ca>
	* Fix #291 by adding a proper warning and location of documentation
	* Fix #336:  Add Swedish translation by Christian Svensson <blue ATT cmd.nu>

2007-07-12  Benoit Grégoire  <benoitg@coeus.ca>
	-This is a behemoth "the road to 1.0"  commit.  I've been working on this for 6 months,
	and it's reached the point where others can help.  Those are very far reaching changes, please
	notify me if anything isn't working right (and im sure I can't have caught everything).
    * Completely revamp exception handling, all exceptions are now trapped and handled centrally.
    * Major changes in the login process to allow repeating a request after a time out or missing permission exception.
    * New user roles architecture,  as described in https://dev.wifidog.org/wiki/doc/developer/UserRolesArchitecture
 	Mostly complete.  Missing parts are Content stakeholders, system roles and "su" functionnality.
 	I need help replacing all the DEPRECATED* methods.  Please read the wiki page above for instructions.
	* generic_object_admin.php:  More work towards making it generic once again.
	* GenericDataObject:  New class.  Eventually, most classes should extend this, instead of directly implementing GenericObject
	* Menu.php:  Finally a uniform Menuing system to replace the mismatch of links that made wifidog
	impossible to navigate.  It's not very sophisticated yet, but it IS permission aware
	Loosely inspired from Drupal's menuing system.  HTML is slightly modified "Son of suckerfish",
	so will be easy to style (althouh I haven't had time yet).
	Actual menus are added in the hook_menu methods of each class.
	* VirtualHost.php:  Finally properly split off Virtual Hosts, and make Server a singleton.
	* install.php:  Do the bare minimum changes so it's still possible to setup a wifidog auth server.
	However, install.php still needs 1- A good overhaull, 2- A way to install sample databases instead of the minimal one.
	-Other changes
    * Unbreak signup link for non-javascript enabled devices
	* FlickrPhotostream:  Check CURL, which is a mandatory dependency of Flickr
    * AbstractDb:  Improve debuging features
    * *:getObject():  Hopefully improve performance of class caching by making sure
    that we do not manipulate different objects.  Otherwise copies would be generated as soon as we change properties, wasting much memory.
	* Add dependency check for XSL module for hotspot_status.php.
	* Some work towards respecting the coding style: http://dev.wifidog.org/wiki/doc/developer/CodingStandard
	* wifidog/admin/index.php:  Delete admin page.  There is no longuer a concept of a separate admin section.  Menu will depend on your access level.

2007-07-11  Benoit Gréoire  <benoitg@coeus.ca>
	* path_defines_url_content.php: Fix #348

2007-07-03  Benoit Gréoire  <benoitg@coeus.ca>
	* wifidog/signup.php:  Notify the user of the allowed characters.
	* Add Bulgarian translation from "Nikola Petrov" <nvp.online A T gmail.com>
	* config_available_languages:  Centralize the list there so that there is only one to modify everytime we add a translation

2007-06-12  Benoit Gréoire  <benoitg@coeus.ca>
	* IE6 layout workarounds (not perfect, but better)
	* HTML validation of the login and portal pages
	* Apply patch from tdb@timothy86.orangehome.co.uk, fixes #334

2007-05-30  Benoit Gréoire  <benoitg@coeus.ca>
	* VisitsPerMonth.php, VisitePerWeekday.php:  Fix small sql bug when selecting a single user

2007-05-28  Benoit Gréoire  <benoitg@coeus.ca>
	* ActiveUserReport.php:  Merge new report from my development tree.  Gives a breakdown of how many users actually use the network.

2007-05-22  Benoit Gréoire  <benoitg@coeus.ca>
	* Reverse part of [1230], hotspot_network_name was already available as standardised variable networkName, and hotspot_network_url as networkWebSiteURL.
	* Reverse part of [1231]:  remove script tag, banning it was the reason the sag striping code was put in in the first place.  We may want to consider creating a RawHTMLContent Content Type.

2007-05-22  Benoit Gréoire  <benoitg@coeus.ca>
    * locales/el/: Add new greek translation contributed by Nikola Petrov

2007-05-17 François Proulx <francois.proulx@gmail.com>
	* WARNING: This has not been fully tested. Full testing to be completed on 2006-05-18
	  but I'm pretty confident that it works pretty well.
	* Added automatic resize on Avatars
	* Added FavoriteHotspots content (mostly used for Profiles)
	* Added new features to Content and File
	* Fixed URL regexp bug in HyperlinkUtils
	* Updated French translations
	* Updates profiles template
	* TODO: Add getNewUI et processNewUI to FavoriteHotspots to simplify input

2007-05-03  Benoit Gréoire  <benoitg@coeus.ca>
    * MainUI_ToolContent.tpl: Make preferences_link, login_link, and logout_link CSS targetable.  Get rid of some deprecated CSS.

2007-04-25  Benoit Gréoire  <benoitg@coeus.ca>
    * ShoutBox.php:  The shout form wasn't displayed whent there weren't any Shouts yet, doh!

2007-04-24 Benoit Grégoire  <benoitg@coeus.ca>
	* AuthenticatorRadius.php:  Fix RADIUS dependency detection bug related to case sensitivity

2007-04-19  Benoit Grégoire  <benoitg@coeus.ca>
	* RssAggregator.php:  Fix bug saving the max item age.
	* Forgot to remove a bunch of links to faq.php.

2007-04-03 Benoit Grégoire  <benoitg@coeus.ca>
	* AnonymisedDataExport.php:  New report.  Adds the ability to export anonymised SQL data for academic research.

2007-03-20 Benoit Grégoire  <benoitg@coeus.ca>
	* Shoutbox.php: Allow limiting the number of characters entered for a shout.
	(Ideally, this would also need to be enforced at db write level).
	Move the shout form in the list.
	Allow choosing the number of shouts displayed.
	Make the size of the shout field configurable from the admin interface
	Put the date of the shout before the username.
	* User.php:  Make the entire "edit profile" link CSS targetable, including the parentesis.

2007-03-20 Benoit Grégoire  <benoitg@coeus.ca>
	* ProfileTemplateField.php:  Only allow simple content types as metadata.
	* Langstring.php:  Fix bug:  one couldn't change the language of a string without changing the actual text.
	* Content.php:  Add isExactContentType() method.
	* Profile-related visual and UI tweaks

2007-03-20 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix #304:  For some reason the Smarty assignement to userName used getListUI() instead of getUsername()???
	* Add HyperLink content type
	* Add UIUserList content type (work towards #158)
	* portal/index.php:  Finish refactoring Smarty usage.

2007-03-17 Benoit Grégoire  <benoitg@coeus.ca>
	* install.php: Make sure we are in the right directory when uncompressing Smarty
	* Avatar.php:  Don't allow user to hyperlink the image.
	* ProfileTemplate:  Display how many profiles will be affected when deleting a template field.
	* User.php:  Don't show the profile creation button if the network has no profile template.
	 Don't hyperlink the username if the user has no profile.

2007-03-16 Benoit Grégoire  <benoitg@coeus.ca>
	* Lots of work on profiles.  The HTML and CSS are not final, but #18 can be considered closed.
	* ProfileField::getContentField():  Fix bug where the object wouldn't refresh properly.
	* Content:  Delicate refactoring of the UI to create new content.
	The content object now supports directly adding the actual values of a new
 	Content in getNewContentUI(), if the content filter only allows a single content type.
 	For this to work, the Content type must overload the getNewUI() method.
 	This saves many mouse clicks for form style interface, like profiles.
 	* User:  Don't create profile automatically.
 	* Don't show profiles when user is invisible.
	* Langstring, SimpleString, HTMLEditor: Support getNewUI().  As a result of these changes, SmartyTemplate, SimpleSmartyTemplate, Stylesheet also get it for free.
	* Add new standard Smarty value userOriginallyRequestedURL.
 Note that this does NOT fix #266
	* Add new standard Smarty value nodeWebSiteURL
	* Some work towards #158
	 1- The "Use the Internet" link pointing to the originally requested URL is no longuer a part of every portal.  To restore that functionnality, paste the following code in a SmartyTemplate in the Content manager.
	{if $userOriginallyRequestedURL}
		<a href='{$userOriginallyRequestedURL}'>Take me where I originally wanted to go</a>
	{/if}
	2- The "Where am I" link is gone.  It made little sense to have that content common to all groups.  To restore it, pu it inline in your login page, link a html page on your auth server, or link a Content display page.
	3- Same with the link to the Network.  To restore the unctionnality, paste the following code in a SmartyTemplate:
	<a class="administration" href="{$networkWebSiteURL}"><img class="administration" src="{$common_images_url}lien_ext.gif">&nbsp;{$networkName}</a>
	* ContentTypeFilter:  Saving still wasn't neutral.  Strip the array indexes to fix it.

2007-03-03 Benoit Grégoire  <benoitg@coeus.ca>
	* CSS tweaks for RSS feeds.
	* Fix detection of HTML Safe.
	* Avatar.php:  Don't allow editing the picture size.
	* ContentGroup:  In some cases, the same element could be picked twice in the same display.
	Make sure that doesn't happen.  Also, implement the option to not rotate content at all,
	usefull when showing all elements simultaneously in a specific order. Closes #294

2007-02-24 Damien Raude-Morvan <drazzib@drazzib.com>
	* Fix main SQL request in Node::getSelectNodeUI() to use
	  table alias in ORDER BY and SELECT. This disambiguation
	  is necessary when using a join on a table containing
	  another 'node_id' field.

 2007-02-24 Max Horvath <max.horvath@freenet.de>
        * Updated dependencies list (completion of all required components)
        * Dramatic speedup of PEAR and PECL modules detection by dependencies class

2007-02-25 Benoit Grégoire  <benoitg@coeus.ca>
	-* rev [1182], [1183], [1184]  are repository fix commits.  If anyone have problem with their lib directory when upgrading, contact me.

2007-02-24 Max Horvath <max.horvath@freenet.de>
	* Fix ticket #300: SYSTEM_PATH not being respected in config.php.

2007-02-07 Damien Raude-Morvan <drazzib@drazzib.com>
	* Fix ticket #298 : php-ldap module is lowercase in Dependencies array,
	  update Dependencies::check() calls.

2007-02-05 Damien Raude-Morvan <drazzib@drazzib.com>
	* Try to fix ticket #295 and #297 by including parent class (Content.php) in
	  File.php.
	* ... and remove unnecessary include of Avatar content type in User.php: All
	  contents types are included by Content.php getAvailableContentTypes() call.

2007-01-28 François Proulx <francois.proulx@gmail.com>
	* First iteration of user profiles completed.
	* Need to improve Avatar admin UI

2007-01-19 Benoit Grégoire  <benoitg@coeus.ca>
	* dump_initial_data_postgres.sh:  Initial node wasn't setup correctly.
	* INSTALL:  Fix some obsolete instructions for database backup and restore

2007-01-18 Benoit Grégoire  <benoitg@coeus.ca>
	* Updated french translation curtesy of http://zapquebec.org

2007-01-16 François Proulx <francois.proulx@gmail.com>
	* ContentTypeFilter : Now supports filters stored in the DB, backward compatible
	* ProfileTemplate, ProfileTemplateField, Profile : profiles support
	* Update schema to 53 for profiles
	* Network, User : Added support for profiles (not implemented for Network)
	* TODO: Integration in portal

2007-01-16 Benoit Grégoire  <benoitg@coeus.ca>
	* A few more steps towards a real user manager
	* Move password change to preferences.
	* InterfaceElements:  Begin moving away from a raw HTML generator and towards a more semantic one as discussed with Max Horvath.
	* It is now possible for an administrator to manually validate or lock-out a user
	* Add new SimpleString content type
	* SmartyWifidog.php:  Fix #282 with a slightly dirty workround to the chicken and the egg smarty variables assignment problem.
		We now extend the fetch method and do our assignment there instead of in the constructor.

2007-01-15 Benoit Grégoire  <benoitg@coeus.ca>
	* Sync initial schema and translations
	* Minor spelling fixes

2007-01-14 Benoit Grégoire  <benoitg@coeus.ca>
	* Dependencies.php, AuthenticatorRadius.php:  Fix bug #287 (Dependencies not being detected properly)
	* Content.php: Make hasDisplayableMetadata() consider Authors, and make it a bit faster.

2007-01-13 Benoit Grégoire  <benoitg@coeus.ca>
	* Content.php:  Add setUserUIMainDisplayContent() and setUserUIMainInteractionArea()
	to simplify writing subclasses and port all content subclasses to the new API.
	* Content.php:  Add a new callcack method, isTextualContent(), to be used by
	ContentFilters.  Indicates that the content is suitable to store plain text.
	* ContentGroup.php:  No longer warn about empty ContentGroup in getUserUI(),
	as this may now be perfectly normal if all content has expired.
	* Rework the classes and css for user_ui_main_outer, isSimpleContent has been
	eliminated and hasDisplayableMetadata is now defined is metadata is available.
	This should allow better HTML consistency and simpler CSS, and be closer to what
	people expect by default.  Content without metadata will display without
	borders or background, and without margins when inside another content.
	* smarty.resource.string.php:  Add a setter function,
	smarty_resource_string_add_string() that must be used before calling the smarty
	 function.  Using the name as the the template was far to brittle.  This makes
	 the SmartyTemplate content much more reliable, and quite possibly faster.
	* ShoutBox: A very basic but already extensible implementation of the
	shoutbox use case.  Shows the last five shouts.  Can connect to another web
	site through a javascript extension.
	* SimpleSmartyTemplate:  Add a simple version of the SmartyTemplate content
	type

2007-01-03 Benoit Grégoire  <benoitg@coeus.ca>
	* FormSelectGenerator.php: Fix incorrect $this reference in isPresent().  The bug would only manifest
	 itself from the FlickrPhotostream's admin interface.
	* page.php:  Fix missing retrieval of DB instance.

2007-01-03 Benoit Grégoire  <benoitg@coeus.ca>
	* Yet more Smarty cleanup, add some docs, add Smarty variables to access the physical node a user is connected to.
	* RssAggregator.php:  Fix bug in setMaxItemAge() method when setting a null value
	* Cache.php:  Performance optimization when caching is disabled.
	* Fix bug where num online users in the portal was broken.

2007-01-02 François Proulx <francois.proulx@gmail.com>
	* Updated the SQL schema initial schema

2006-12-31 Benoit Grégoire  <benoitg@coeus.ca>
	* More Smarty cleanup
	* Content.php:  Bugfix:  metadata wasn't deleted along with the rest of the
	content upon deletion.

2006-12-30 Benoit Grégoire  <benoitg@coeus.ca>
	* install.php:  Move path verification to the first page, and make it clearer.  Fix PHP warnings.
	* wifidog/include/smarty.resource.string.php:  A smarty resource plugin to parse a smarty template from a string
	* SmartyTemplate:  Very basic but functionnal commit of the new Smarty content type.
	IMPORTANT NOTE:  This will eventually obsolete IFrameRest, which will be removed.
	* Continue cleaning-up/standardizing Smarty variable usage.

2006-12-12 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix all PHP 5.2 compatibility issues I could find.  This needs further testing

2006-12-12 Pascal Charest <pascal.charest@gmail.com>
	* install.php: Remove obsolete Phlickr installation references

2006-12-12 Benoit Grégoire  <benoitg@coeus.ca>
	* install.php, Dependencies.php:  Centralize Dependency detection (next is to centralize
	dependency installation code).
	* config.php: Remove more obsolete config directives.

2006-12-11 Benoit Grégoire  <benoitg@coeus.ca>
	* install.php:  Fix a few problems caused by obsolete magpierss detection code.
	* install.php, config.php:  Remove the obsolete PHLICKR_SUPPORT option.

2006-11-30 Benoit Grégoire  <benoitg@coeus.ca>
	* schema_validate.php:  Mute annoying ob_flush() notices.
	* Node.php:  Add missing default parameter to getSelectNodeUI()
	* get_stylesheet:  Fix date calculations that broke download.

2006-11-29 Benoit Grégoire  <benoitg@coeus.ca>
	Sync with my main developpement environement:
	* Performance optimization pass:  Collect a few low hagning fruits
	by implementing basic instance caching for classes Server, Network, Nodes, Content and User.
	 It's no replacement for a real ORM, but is cuts way down on duplicate SQL queries and
	 object instanciation for a single request.
	* Langstring.php:  Slight performance optimization for admin interface, support for proper modification date.
	* File.php:  Update to use unified content modification date.
	* get_stylesheet.php:  Implement browser caching
	* ContentGroup.php:  Get rid of is_locative and is_artistic metadata.  Will eventually be replaced by something better.
	Allow editing of expired content elements
	* Node.php, Utils.php:  Sort by case insensitive name, and show gateway id in node selectors
	* BannerAdGroup.php:  Support group constraint of image size for all images in the group.
	* ContentReport.php:  Finish basic content reporting.
	Note that for content that displayed before the logging fixes commited 2006-11-14, the display count will be underestimated:
	Display before then was only counted once per user per node.  Also File clickthrough wasn't logged (includes hyperlinked pictures).
	* Content.php:  Implement a Key-Value Pair infrastructure.  In the future, this will often allow adding new content types without
	having to modify the schema.  See the Content class documentation.
	* Fix various small UI issues.

2006-11-29 Benoit Grégoire  <benoitg@coeus.ca>
	* common.php:  Fix the value of SESS_NODE_ID_VAR, it got overwritten by SESS_GW_ID_VAR.
	Caused problems with logout.

2006-11-27 Benoit Grégoire  <benoitg@coeus.ca>
	* Try to fix #270:
	* DateTime.php:  Rename class to DateTimeWD because of the stunt they pulled in PHP 5.2
	* Content and derived classes:  Make all constructors protected.

2006-11-26 Benoit Grégoire  <benoitg@coeus.ca>
	* lost_username.tpl, lost_password.tpl, resend_validation.tpl:  Fix #259 by commenting out
	all Javascript. I hate removing outside contributions, but the lost_username,
	lost password and re-send validation email have been broken for months and no one
	stepped-in to fix it.

2006-11-23 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix bug in node creation
	* Add error message for geocoder when you didn't set the country
	* Clarify error messages and description for the geocoder.
	* Make the google-map locator for nodes use the network center coordinates.
	  This change makes it usable when you didn't use the geocoder first.
	* Show the gateway id in the technical nodelist.

2006-11-22 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix minor problems with template using obsolete constants
	* Delete a bunch of unused templates

2006-11-22 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix broken auth
	* Fix broken portal when called from gateway

2006-11-22 Benoit Grégoire  <benoitg@coeus.ca>
	* Major schema update (this one is going to make your database grind for a while, sorry
	about that...)
	Fix a long standing design problem with the node table, where the ID could be changed.
	This caused performance problems when replacing gateways, and caused problems when
	exporting data to other systems.  Among other things, it will allow us to finally
	 finish the JiWire output.
	* Stylesheet.php:  New content type.  Takes advantage of two pass content display to create stylesheets to be used only at a specific node, or with a specific content.

2006-11-21 Benoit Grégoire  <benoitg@coeus.ca>
	* Change schema update method.  Will now do one transaction
	 per schema version, allowing each schema to assume that
	  the current schema is the previous one.  Also allows not
	  starting over when there is a problem.
	  Fixes schema update problems with the last commit

2006-11-21 Benoit Grégoire  <benoitg@coeus.ca>
	* RssAggregator.php:  At long last, sync with FeedPressReview 2.0
	 http://projects.coeus.ca/feedpressreview/ (formerly rsspressreview)  and
	  make most of it's features directly available from the web interface.
	This gives us:
	-Now based on SimplePie http://simplepie.org/ (magpie was no longuer maintained)
	-Now unobtrusively displays almost all item and feed metadata
	-Supports images
	-Supports podcasts and enclosures
	-More accurate algorithm
	-Criteria based default feed expansion
	-More real-estate efficient, and improved UI
	The admin interface is now also more real-estate efficient (uses the hover help code commited by François that no one used yet).

	Warning: This changes the dependencies of the auth server.  Your RSS feeds will be disabled untill you re-run the install script.
	* gw_message.php:  Fix validation period not being displayed.

2006-11-14 Benoit Grégoire  <benoitg@coeus.ca>
	* MainUI.php:  Allow displaying any object with a getUserUI() method directly as content.

2006-11-14 Benoit Grégoire  <benoitg@coeus.ca>
	* generic_object_admin.php:  Fix interface options for the user object, but this is the wrong way to go about it.  THese options should be class properties.

2006-11-14 Benoit Grégoire  <benoitg@coeus.ca>
	* File.php:  Clickthrough weren't logged, DOH!
	* User.php:  Error message on validation expired didn't properly output the validation grace time.
	* Statistics.php:  Fix #271: Getting statistics for a single MAC address was broken.
	* NodeListXML.php:  Small patch by Josephus to add the number of online users
	* Improve CPU usage of the content manager
	* AbstractDb:  Fix query time not being displayed in debug mode if profiling was turned off.
					Add total execution time statistics.
	* Fix logging of content clickthrough and display.  Unique users and node data is reliable for existing data.
		Number of prints is underestimated (repeat prints for the same user, same content at same node didn't get counted)
		 for data before this patch.
		Same with number of clickthrough for File content types and derivatives (picture, etc.).
	* ContentReport.php:  Add content report (does not support most options yet, but still very usefull).

2006-11-13 Benoit Grégoire  <benoitg@coeus.ca>
	* Make the MainUI, SmartyWifidog and Session and AbstractDb classes singletons
	* Implement two pass content display.  All Content can now implement a prepareGetUserUI(), allowing them to interact with MainUI and other Content before display.
	  Allow creating content such as stylesheets, feed accumulators, etc.
	* SmartyWifidog.php Turn on security, begin preparing for standardisation of Smarty variables
	* New Content type:  Stylesheet.  Allows specific nodes, or even specific content groups to have custom stylesheets.
	* Langstring.php:  Make getAdminUI calling conventions coherent with other content types.

2006-11-11 Benoit Grégoire  <benoitg@coeus.ca>
	* Authenticator.php:  Critical: Fix SQL query syntax in acctStart()

2006-11-07 Benoit Grégoire  <benoitg@coeus.ca>
	* install.php:  Fix password generation I inadvertently broke.  Remove misleading info about SSL

2006-11-07 Benoit Grégoire  <benoitg@coeus.ca>
	* install.php:  Put an end of line after the password, make it easier to read.
	Make the install script check the permissions of lib/smarty/plugins directory to avoid smarty errors
	* Statistics.php:  A little gift for France wireless:  Make aggregate statistics available across networks

2006-11-07 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix # 268, #269 as well as greg's problems by moving all token and registration date arithmetics
	 to the database, and standardize on SQL-standard CURRENT_TIMESTAMP.
	Fixes operational problems when PHP and PostGres don't have the same timezone
	(which appears to be the case on Fedora by default).
	Note that the page.php script still has PHP date arithmetics, but at least should be self-consistent.

2006-10-24 Benoit Grégoire  <benoitg@coeus.ca>
	* auth/index.php: Add some defensive coding and debug output when the token is invalid.

2006-10-24 Damien Raude-Morvan <drazzib@drazzib.com>
	* Fix french translation used for account validation to use same number of token as original message.
	* Only show language combo when there is more than one language to select.

2006-10-24 Benoit Grégoire  <benoitg@coeus.ca>
	* EmbeddedContent.php:  Fix content type selection (admin interface of EmbeddedContent was broken)
	* Full spanish translation curtesy of jguevara @@ unitec.edu (closes #254)
	* Some documentation updates for content filters
	* Content.php:  Add isNotContentType() method.

2006-09-07 Benoit Grégoire  <benoitg@coeus.ca>
	* Access to the Content manager was broken for normal users, again.

2006-09-11 François Proulx <francois.proulx@gmail.com>
	* Changed install.php req. for Smarty 2.6.17 is mandatory
	* ContentTypeFilter.php fixed the method checking function
	* Fixed errors in French translation file

2006-09-07 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix PHPMailer that I've broken earlier

2006-09-07 Benoit Grégoire  <benoitg@coeus.ca>
	* Slightly rework SSL detection so that it uses the default server if a current one isn't available.
		Fixes server passing passwords in the clear if the hostname disn't match (DOH!).
		We really should properly split the Server class into a singleton Server class and multiple VirtualHost classes.
	* Re-apply fixed HTMLeditor patch.  (Original description:  Make HTMLeditor inherit from Langstring.  Allowed a massive reduction of
	  line count and will stop the codebases from needlessly drifting apart.)

2006-09-07 Benoit Grégoire  <benoitg@coeus.ca>
	* Add missing require of Statistics.php in stats.php

2006-09-07 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix non persistent content being available to add to nodes, networks and content groups.
	* Prevent a user from entering the same language twice in a langstring.  Fixes #226

2006-09-06 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix #63
	* Fix problem with my Splash only user fix (I used match on the user_id instead of the username).
	* Prevent the Splash only user from logging out, wrecking havock in the tokens.
	* Do not allow SplashOnlyUser to set his preferences.
	* Assigning a reusable content to a contentgroup element would make it non-reusable.
Usability and UI fixes:
	* Allow other users to log in when they are at a splash only node.
	* Make isSimpleContent class available for Simple content types.  Make it borderless and backgroundless in the default theme_pack.
	* Simplify HTML output for simple content.
	* Fix IE layout bug in node admin
	* Content linked to nodes and networks now edits in a new window.
	* Remove "Add new node" menu item for consistency.

2006-09-06 Benoit Grégoire  <benoitg@coeus.ca>
	* Remove most inclusions of MainUI in classes.
	That completely broke authentication (circular dependencies).
	Fixes 245.
    Unfixes 242. Exceptions should not be caught in the context
    they are thrown in. Else there no point in throwing exception in the
    first place.
	* HyperLink.php:  Fix bug where a link with identical text as it's link would see the text replaced by the clickthrough-tracked equivalent.

2006-09-06 Benoit Grégoire  <benoitg@coeus.ca>
	* ContentTypeFilter:  New class, implements #159.  Allows to filter content type according to various criteria.  Will be used more extensively in the profile manager.
	* Content manager:  Use content type filter to only allow Simple content types (Content without metadata) to be used for metadata.
	* New content type BannerAdGroup.  Used (primarily) to display banner adds, or any other image rotation.  Size constraints not yet implemented
	* Move externally maintained class.phpmailer.php, class.smtp.php into lib where they belong
	* DateTime.php: Make class handle an empty date sensibly.
	* Network.php:  Show the network again when there is only one.  It was confusing in some screens.
	* page.php:  Clarify error message, and set a more reasonnable paging cascade:
		5 min, 30 min, 2 hours, 1 day, 1 week, 1 month
	* Finally fix #127
	* At last, working content scheduled display and expiration for ContentGroups.  Archiving does not yet have a UI.  Content that expires will simply seem to disapear.
	* Fix #247 (somebody filed a bug before I commited, conveniently saving me the need to describe it).
	* The Fix for #106 in [1089] returned non-objects, causing error messages and not displaying what it was meant to display.
		Used Guest instead of Annonymous, which will probably be used for different purpose in the future.
		This re-fix does not include duplicate counting yet.  Splash users are not the only users that could log-in multiple times.
		I don't have a staging server here, a fix will be commited in a few minutes if something goes wrong.
	* Cleanup coments.
	* Sync schemas

2006-09-03 Max Horváth <max.horvath@freenet.de>
	* The term SPLASH_ONLY_USER displayed to people visiting the portal has been
	  replaced by the more meaningful term "anonymous user" (fixes #106)
	* When creating a new node and choosing an existing node_id there will be
	  shown an error message (fixes #223)
	* If one or more nodes aren't monitored they now will be announced on the
	  front page (instead of just showing the number of monitored online nodes)
	  (fixes #100)
	* Display more meaningful error messages if required user permissions are
	  missing (fixes #242)
	* Refactored Network->getAdminUI() to match look and feel of
	  Node->getAdminUI (fixes #140)
	* Show descriptive status of node (fixes #241)

2006-09-02 Max Horváth <max.horvath@freenet.de>
	* Installation script checks for PHP session extension (fixes #139)
	* Removed "Call-time pass-by-reference has been deprecated" warnings
	  (fixes #239)
	* Revert changes of FCKeditor implementation (fixes #240)
	* Fix of FCKeditor implementation, now also supports FCKeditor 2.3+
	  (fixes #145)
	* Hotspots/Nodes are sorted case-insensitive now (fixes #109)
	* Fix #141
	* templates/sites/index.tpl: fix wrong user count (fixes #236)
	* Added more trash mail services to the black list (fixes #149)

2006-09-01 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix #189, #173


2006-09-01 Benoit Grégoire  <benoitg@coeus.ca>
	* Content.php:  Improve handling of simple but persistent content.

2006-08-31 Benoit Grégoire  <benoitg@coeus.ca>
	* Server.php:  Make sure getCurrentServer returns the default server if the
	  hostname isn't recognised.
	* Content manager:
		- Allow deleting simple (trivial) but persistent content
		- Remove the sponsor info field from Content Metadata.  Best practices
		  is now to use the project info field to show this information.
	* Add the necessary schema constraints to allow manually deleting networks,
	  nodes and users.  Be carefull, removing any of theses will remove all
	  traces of connection statistics as well.  You've been warned.
	* Do not display the network in the login interface if there is only one.
	* Add a pseudo-random content ordering mode.  Pick content elements
	  randomly, but do not display the same content twice untill all content
	  has been seen.
	* Allow setting a title but not displaying it (very usefull for reusable
	  content)

2006-08-29 Max Horváth <max.horvath@freenet.de>
	* Cleaned up PHPdoc tags
	* Updated german translation
	* Updated portuguese translation, thanks to Gabriel Hahmann
	* Added spanish translation, thanks to Ricardo Jose Guevara Ochoa

2006-08-28 Benoit Grégoire  <benoitg@coeus.ca>
	* Add SimplePicture content type
	* Fix #225 (For both nodes and networks)

2006-08-28 Max Horváth <max.horvath@freenet.de>
	* Integrated KML node list export
	* Integrated PDF node list export
	* Updated Sprintf formatted strings in some Smarty templates

2006-08-27 Benoit Grégoire  <benoitg@coeus.ca>
	* clickthrough.php, HyperLink.php:  Implement working hyperlink
	  clickthrough tracking (no reporting yet).
	  Works for Langstring, FlickrPhotoStream, Picture, RssAggregator and their
	  subclasses.
	* Make HTMLeditor inherit from Langstring.  Allowed a massive reduction of
	  line count and will stop the codebases from needlessly drifting apart.
	* Do not log content displayed as metadata, and log their clickthrough as
	  the parent's.

2006-08-27 François Proulx <francois.proulx@gmail.com>
	* Updated French translations
	* Now using Sprintf formatted strings in some Smarty templates (see
	  example in templates/sites/index.tpl).
	* Integrated back the SQL profiling functions

2006-07-20 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix a bug where having an empty username would break statistics.

2006-07-07 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix a bug in some reports when selecting a single user.

2006-07-05 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix #175.
	* Fix the "Registration Log" and "User registration report" reports giving
	  incorrect statistics
	* Allow disabling EventLogging class in config.php, to make SQL debuging
	  possible (The class was traping errors before AbstractDb could
	  output them)
	* Make EVENT_LOGGING default to false for now, as it turns out EventLogging
	  was the cause of the Spurious PEAR output ("Runtime Notice: ") we've
	  been seeing.  That is probably only because we don't understand how to
	  properly control it's logging level.

2006-06-18 François Proulx <francois.proulx@gmail.com>
	* Added creation_date , last_update_date support to File content (with
	  proper HTTP caching handling)
	* Added hyperlinks URL support in Picture content
	* Fixed constants in Flickr Content
	* Fixed #171 (Can't add existing content to Node)

2006-06-17 François Proulx <francois.proulx@gmail.com>
	* First iteration of JiWire CSV export
		* Use : hotspot_status.php?format=JiWireCSV
	* Fully working, but Excel doesn't seem to handle well UTF-8
	  investigation in progress.

2006-06-08 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix #151.  It was still around after all.

2006-06-08 Benoit Grégoire  <benoitg@coeus.ca>
	* Completely refactor the look and html of the content manager, statistics
	  and most object's administrative interfaces.
	  Should be much simpler and clearer now.
	  No refactoring of the editing flow has been done yet.
	* Spell check the french translation, and add a few of the missing strings.

2006-05-26 François Proulx <francois.proulx@gmail.com>
	* Added 'ja' to database locales table

2006-05-26 François Proulx <francois.proulx@gmail.com>
	* Added Japanese translation .po file
	  (Thanks to taedu AT ninjin-net DOT net)

2006-05-24 François Proulx <francois.proulx@gmail.com>
	* Stylesheet changes for left_area_bottom content block.

2006-05-24 François Proulx <francois.proulx@gmail.com>
	* Simplified Google Maps JS code to use more of the v2 abstraction
	* Improved admin panels CSS classes

2006-05-23 Benoit Grégoire  <benoitg@coeus.ca>
	* config.php:  Disable USE_CACHE_LITE, it's definitely not stable, and
	  causes very hard to track down problems with Internet Explorer.

2006-05-22 François Proulx <francois.proulx@gmail.com>
	* Fixed isValidUsername() Js function to allow caret and dot characters

2006-05-22 François Proulx <francois.proulx@gmail.com>
	* Use Pgsql persistent connections

2006-05-22 François Proulx <francois.proulx@gmail.com>
	* Removed unnecessary debug message
	* Fixed getNumOnlineUsers to count users by MAC on splash only nodes

2006-05-22 François Proulx <francois.proulx@gmail.com>
	* Added generateFromArray parameter (max_length)
	* Restricts select content ui combo box to 40 chars
	* Added Smarty plugin modifier.fsize_format.php

2006-05-21 François Proulx <francois.proulx@gmail.com>
	* Stupid IE CSS bug fixed

2006-05-21 François Proulx <francois.proulx@gmail.com>
	* Fixed various bugs in content system
	* stylesheet work

2006-05-21 François Proulx <francois.proulx@gmail.com>
	* Think I've fixed Google Maps on IE.
		* need to test on another system..

2006-05-20 François Proulx <francois.proulx@gmail.com>
	* Completed french translations
	* Fixed Flickr javascript
	* Various stylesheet improvements to tighten up the portal and admin

2006-05-20 François Proulx <francois.proulx@gmail.com>
	* Various stylesheet improvements, started working on Île Sans Fil network
	  specific theme pack
	* Fixed a few layout bugs

2006-05-20 Benoit Grégoire  <benoitg@coeus.ca>
	* USE_BASE_NON_SSL_PATH for hotspot map, else internet explorer whines
	  endlessly

2006-05-20 Benoit Grégoire  <benoitg@coeus.ca>
	* index.tpl:  Fix link to the map not being displayed at a hotspot, even
	  when you are logged in.  There needs to be much better logick before we
	  export such things to smarty templates.

2006-05-20 François Proulx <francois.proulx@gmail.com>
	* Added /wifidog/contrib and /wifidog/contrib/xslt directories
	* Posted Île Sans Fil XSLT example stylesheet for converting the
	  hotspot_status page
		* Browser view
		* PDA view (by Jean-Pierre Lessard <jplprog@videotron.ca>)
		* Simply use in this manner :
		  http://wifidog-server.org/hotspot_status.php?format=XML&xslt=http://wifidog-server.org/contrib/xslt/hotspot_status_browser.xsl

2006-05-20 Benoit Grégoire  <benoitg@coeus.ca>
	* page.php:  Fix bugs in various files preventing the system from working
	  from the command line.

2006-05-20 Benoit Grégoire  <benoitg@coeus.ca>
	* More install script fixes:  Phlickr wouldn't install, and the permissions
	  of wifidog/tmp/smarty/cache weren't checked.

2006-05-20 Benoit Grégoire  <benoitg@coeus.ca>
	* More stylesheet and HTML work

2006-05-18 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix loging form incorrectly attempting to validate the password,
	  preventing many existing accounts from logging-in.
	* Interim commit, begin simplifying the html ans stylesheets, and re-doing
	  the general look.
	  This is incomplete, this commit was done to fix the problem above.
	* install.php:  Fix path problems, make shel command errors visible.  Update
	  magpie and smarty url to latest versions (note that this won't
	  automatically update an existing install).  Didn't touch phlickr as I
	  didn't know the implications
	* Add interactive scripts in sql/ to easily backup and restore a wifidog
	  auth server database.

2006-05-10 François Proulx <francois.proulx@gmail.com>
	* Fixed Google Maps script path to images.

2006-05-10 François Proulx <francois.proulx@gmail.com>
	* Added sweetTitles tooltips script, now if you need to add tooltips simply
	  add the 'title' attribute to you html <a>, <attr>, <accroym> tags
	* Fixed usort bug in MainUI
	* Fixed download (wget) in install.php

2006-05-09 Benoit Grégoire  <benoitg@coeus.ca>
	* Working (if slightly basic) theme manager.  You can pick the theme in the
	  network configuration.
	  To add your own theme, read wifidog/media/network_theme_packs/README.txt
	* Cleanup and document the wifidog directory structure
	* Minor HTML corrections for content types
	* Completely rip out the old local_content system, and a bunch of obsolete
	  defines and config variables.
	* Get rid of PHP generated stylesheets

2006-05-09 Benoit Grégoire  <benoitg@coeus.ca>
	* Finish content assignation system
	* Content ordering is now global (network, nodes and everywhere content cand
	  now be in mixed order).
  	* Implement 'everywhere' content
  	* Change MainUI::apendContent to MainUI::addContent

2006-04-28 François Proulx <francois.proulx@gmail.com>
	* Fixed error in initial data script

2006-04-28 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/login/index.php: Correctly use DEFAULT_NODE_ID from config.php
	  instead of hardcoded 'default'

2006-04-28 François Proulx <francois.proulx@gmail.com>
	* Fixed initial_data schema script so that it adds a dummy server.

2006-04-25 François Proulx <francois.proulx@gmail.com>
	* Updated JavaScript code to work with Google Maps v2 API
	* v2 will now provide full maps of European countries and is a bit faster
	* Updated the schema accordingly with new GMaps values

2006-04-24 Benoit Grégoire  <benoitg@coeus.ca>
	* Dependencies.php:  Small fix in case gettext isn't installed

2006-04-24 Benoit Grégoire  <benoitg@coeus.ca>
	* AuthenticatorLDAP.php:  Merge patch from jguevara@unitec.edu.  Fixes #125

2006-04-24 Benoit Grégoire  <benoitg@coeus.ca>
	* Major system locale handling overhaull.  Hopefully abstract out the UTF8
	  problems once and for all, allowing everyone to define them the same way.
	  Fix a few bugs along the way. Should also be a little faster.

2006-04-24 Benoit Grégoire  <benoitg@coeus.ca>
	* Revert Rob's SYSTEM_PATH change.  Sorry about that.  The devs spent hours
	  to finally get the PATH stuff consistent and fixing the countless bugs
	  that this process introduced.
	  Maybe some links still need to use BASE_URL_PATH instead of BASE_SSL_PATH,
	  (or vice-versa) but it was on purpose that SYSTEM_PATH was not made
	  available to Smarty.
	  We already have 3 defines to be used for links and html refs, that's
	  enough BASE_SSL_PATH should be used to enter SSL mode (if available)
 	  BASE_NON_SSL_PATH should be used to break out of SSL mode of when we
 	  explicitely do not want someting to be referenced over http
 	  BASE_URL_PATH should be used in all other cases to avoid needless
 	  SSL warning

2006-04-17 Rob Janes <janes.rob@gmail.com>
	* javascript for validating and navigating forms.
	* help text (untranslated).
	* EVENT_LOGGING enabling/disabling flag.
	* use SYSTEM_PATH instead of BASE_URL_PATH and BASE_SSL_PATH where ever
	  appropriate.
	* standardize Smarty variables for Network and User info by adding
	  assignSmartyValues($smarty, $self) to Network and User.
	* change_password only allowed if logged in.
	* non-superadmin can only use change_password to change their own password.
	* superadmin can use change_password to change any user password by
	  entering in their password for the old password.
	* page_header div defined and positioned in MainUI

2006-04-04 Benoit Grégoire  <benoitg@coeus.ca>
	* /classes/Content/IFrame/IFrame.php: Change a few methods from private
	  to protected as the private methods broke IFrameRest

2006-04-01 François Proulx <francois.proulx@gmail.com>
	* Dumped initial schema from working install

2006-03-31 Benoit Grégoire  <benoitg@coeus.ca>
	* dump_initial_data_postgres.sh:  Add the content_available_display_pages
	  table to the dump, can someone re-generate the initial data from a
	  working install
	* Remove the ?> tags from all the classes.

2006-03-27 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix bug where right_area_bottom content wouldn't be displayed.
	* Minor CSS cleanup

2006-03-28 François Proulx <francois.proulx@gmail.com>
	* Fixed error in initial schema (bad client encoding)

2006-03-28 François Proulx <francois.proulx@gmail.com>
	* Fixed schema 37 : left_area_top
	* Updated initial schema

2006-03-27 Benoit Grégoire  <benoitg@coeus.ca>
	* First step in massive simplification of CSS and templates
	* Implement the new main CSS structure
  	* Implement working content assignation interface and content ordering for
  	  both network and nodes.
  	* Display of content according to assignation work on 'portal' and 'login'.
  	  'everywhere' not yet implemented
	* Get rid of some ISF specific interface elements
	* Finally replace the overly complicated start button by a
	  "Use the Internet" link that will not get you out of your working tab
	* Fix #118

2006-03-26 Benoit Grégoire  <benoitg@coeus.ca>
	* init_php.php: Fix stripslashes_cb() so it actually works, this means the
	  auth server should work properly with auth servers with magic quotes
	  turned on.
	  This is still not recommended however.
	* Remove some spurious error ouptut on logout.
	* Remove potential error in network id parsing

2006-03-22 François Proulx <francois.proulx@gmail.com>
	* Fixed Google Maps URLs bug
	* Since Google Maps does not provide Javascript over SSL (it does but the
	  certificate does not match) the code path to the map does not use SSL, but
	  the outgoing URLs do.
	* Removed lost echo in Locale.php

2006-03-21 Benoit Grégoire  <benoitg@coeus.ca>
	* login/index.php: Remove huge security hole introduced by stylistic
	  changes in the file. A user could login to any hotspot by simply filling
	  a blank form because of a gratuitous change from empty to is_null
	  everywhere.  Remove escaping or REQUEST parameters in non SQL
	  related code, as this would lead to double unescaping down the line.
	  Remove logic dependent on encapsulated side effects of object method call.

2006-03-19 François Proulx <francois.proulx@gmail.com>
	* Updated French translations

2006-03-18 Rob Janes <janes.rob@gmail.com>
	* path_defines_base working for combinations of DocumentRoot, Alias,
	  and installed wifidog-auth directory, correctly setting SYSTEM_PATH
	  and WIFIDOG_ABS_FILE_PATH dynamically.
	* classes/Locale.php::getBestLanguage changed to correctly parse
	  HTTP_ACCEPT_LANGUAGE, comma is the correct delimiter not semi-colon.
	  Ignores SESS_LANGUAGE_VAR if invalid.

2006-03-18 Rob Janes <janes.rob@gmail.com>
	* Fixed bug #77 classes/EventLogging.php non-variable pass by reference

2006-03-16 François Proulx <francois.proulx@gmail.com>
	* Removed stale owner_sendfiles.php (now integrated in the Content Manager)
	* Cleaned up a bunch of stale TODOs

2006-03-16 Max Horváth <max.horvath@freenet.de>
	* updated language files (new german strings have already been translated)
	* added LDAP authentication
	* Dependencies class can check for an PHP extension now
	* Dependencies class can check for multiple files on a single dependency now
	* Authentication classes moved to it's own directory
	* The getAuthenticator method now uses the much safer and faster
	  call_user_func_array function to return an authenticator object
	* the available authenticator classes are now being displayed in a select
	  box on the network administration page
	* the link to and the Google hotspots map as is won't be shown to an
	  unauthenticated user at a real hotspot

2006-03-16 Benoit Grégoire  <benoitg@coeus.ca>
	* hotspots_map.tpl:  Use base_url_path instead of base_ssl_path

2006-03-09 Benoit Grégoire  <benoitg@coeus.ca>
	* init_php.php: Try to fix #102 by inspection
	* Delete AbstractDbMySql.php, and collapse AbstractDbPostgres.php
	  into AbstractDb.php to prepare for eventual switch to PDO file.
	* incoming_outgoing_swap.php:  Delete file, closes #85

2006-03-09 Max Horváth <max.horvath@freenet.de>
	* fixed small bug in the InterfaceElements class
	* fixed PHP notices in portal/index.php and Locale class
	* fixed small bug in Authenticator class which in resulted in a fatal PHP
	  error if a user logged out when his session was already gone
    * using the {$isUserAtHotspot} smarty variable you can check now in every
      template if a user calls the portal from a hotspot or not

2006-03-08 Max Horváth <max.horvath@freenet.de>
	* fixed small bug where clicking on the start button at the portal page
	  didn't open the wifidog portal, but the requested page
	* updated source to generate a clean PHPdoc output
	* updated PHPdoc generating script

2006-03-07 Max Horváth <max.horvath@freenet.de>
	* init_php.php now does a 100% strict check for variable types of
	  elements to be processed when magic_quotes are turned on
	* fixed duplicate use of SSL_AVIABLE define in common.php
	  This fixes ticket #95.
	* fixed problens with slashes in htospots_map.php
	  This fixes ticket #97.
	* fixed variable typo in NodeListXML.php
	* introduced new InterfaceElements class which is being used to create
	  HTML code - this reduces HTML markup in PHP code and reduces HTML errors
	  we had i.e. on the node administration page (unclosed div).
	  It is being used on the node administration page now and will be updated
	  for the other admin pages ...
	* when adding an owner or tech officer on the node admin page and pressing
	  enter in the input field the statistics where called (no owner or tech
	  officer was added) - this has been fixed
	* database schema update 35 wasn't compatible with PostgreSQL version 7,
	  the update script has been changed to be compatible with it ...
	  This fixes ticket #94.
	* Gabriel Hahmann did a translation of WiFiDog-Auth in portuguese ... it has
	  been included
	  This fixes ticket #98.
	* on node administration page owners have less rights than admins

2006-03-02 Max Horváth <max.horvath@freenet.de>
	* converted PNGs to GIFs because Internet Explorer cannot handle alpha
	  transparency of PNGs

2006-02-28 Max Horváth <max.horvath@freenet.de>
	* the content selector for an owner could produce notices
	* the button add existing content in the content manager will only be shown
	  if content is actually available
	* the start button on the portal page won't be shown anymore if a user
	  didn't access it from a WiFiDog hotspot
	* deleted wifidog/templates/message_unknown_hotspot.html as this error
	  message will be displayed using the genecir error message template
	* display of generic error messages will be handled by the MainUI class
	* deleted wifidog/portal/missing_original_url.php as its functions is being
	  handled by wifidog/portal/index.php now
	* deleted wifidog/templates/message_default.html as its functions is being
	  handled by wifidog/gw_message.php now
	* deleted wifidog/templates/message_activate.html as its functions is being
	  handled by wifidog/gw_message.php now
	* account validation hints finally show the real validation grace time
	  (used to display 15 minutes)
	* deleted wifidog/templates/message_denied.html as its functions is being
	  handled by wifidog/gw_message.php now
	* deleted wifidog/templates/message_failed_validation.html as its functions
	  is being handled by wifidog/gw_message.php now
	* deleted wifidog/templates/user_management_menu.html as its not being
	  used anymore
	* deleted wifidog/local_content/default/footer.html as its not being
	  used anymore
	* deleted wifidog/local_content/default/header.html as its not being
	  used anymore
	* deleted wifidog/local_content/default/portal.html as its not being
	  used anymore
	* deleted wifidog/local_content/default/new.css as its wasn't ever used
	* deleted wifidog/local_content/README as its content isn't valid anymore
	  used anymore
	* Login site now uses a Smarty template to render HTML page
	* class MainUI now also delivers $isOwner variable for Smarty

2006-02-26 Max Horváth <max.horvath@freenet.de>
	* Hotspots map page now uses a direct Javascript call for the link
	  "Show me on the map" (resulting in the browser not jumping to the top of
	  the page if a user clicks on such a link)
	* refactored hotspot status page, it now uses node list classes to generate
	  output
	* WIFI411_CSV has been removed from hotspot status page - it didn't work
	  properly - a working version can be added to /wifidog/classes/NodeLists
	* RSS feed of hotspot status now delivers language of user
	* RSS and XML feed of hotspot status now actually do deliver data from
	  the requested network (before the code accepted network selection but
	  actually switched back to the current network)
	* RSS feed of hotspot status page now gets announced in browser

2006-02-25 Max Horváth <max.horvath@freenet.de>
	* fixed undefined variable bugs in statistic classes (use of date_from and
	  date_to), variables were processed directly from request, without any
	  check
	  This fixes ticket #71.
	* clicking on a username in user logs now generates a individual user
	  report as it does when clicking on a username on the online users page
	* Changing the value of the "Is persistent" checkbox doesn't have to
	  saved when JavaScript is enabled in the browser. Before this change
	  you had to save a content. So if you wanted to delete a persistant content
	  you first had to uncheck this checkbox, save the content and delete the
	  content after saving it. If JavaScript is enabled in your browser you
	  can go straight ahead, uncheck the checkbox and delete the content.
	  This fixes ticket #73.
	* when processing global arrays if magic quotes is enabled, WiFiDog will
	  check for type variables
	  This fixes ticket #84.
	* the RSS feed of nodes now delivers the correct link to the nodes homepage
	  This fixes ticket #80.
	* small fix in schema_validate.php which should affect nobody (in schema
	  version 9)
	  This fixes ticket #79.
	* fixed "Show all available contents for this hotspot" link which didn't
	  work if WiFiDog wasn't located in the root folder of the webserver
	* the "Show all available contents for this hotspot" link won't be shown
	  anymore unless all requirements are meet that all content of a hotspot
	  would be shown. The requirements are: you need to have at least one
	  Content Group tagged artistic and locative content, with at least one
	  content group element available for display.
	  This fixes ticket #35.
	* adjusting the location of a node via the Google maps geocoding service)
	  and clicking the button "Use these coordinates" didn't work
	  This fixes ticket #81 and #82.
	* the content select box now only shows the content to a user of which is
	  is the owner from (same mechanism has already been used on the content
	  manager page) or all content if the user is a superadmin
	* wifidog/admin/content_admin.php removed, because the content manager now
	  uses the generic object administration interface
	* the creation date of a network can be changed now (this value wasn't
	  displayed in the admin interface, even though it was present in the
	  database)
	* revamped administration sidebar, cleaner interface for the superadmin,
	  for the owner of a node nothing changes
	* added "server administration" section to the administration interface
	* Added administration of webservers. For one webserver not much changes.
	  The SSL available setting has been moved to this section (and removed
	  from config.php). Running WiFiDog on two or more webserver (with one
	  database) you now can define the different hostnames of the webserver.
	  Of course you can also define, which of those webserver serves SSL. This
	  is for example essential for the Google maps feature (different API keys
	  for different hostnames)
	* for every network you now can define it's own Google Map initial values
	  and map types
	* Hotspots map page now supports different maps for different networks
	* Hotspots map page now supports different map types for different networks
	  This fixes ticket #69
	* Hotspots map page now offers full multilingual support (text in the
	  JavaScript file was english only)
	* Hotspots map page now uses a Smarty template to render HTML page

2006-02-21 Max Horváth <max.horvath@freenet.de>
	* fixed access restriction for HTMLeditor in templates folder
	* fixed XML error in HTMLeditors CSS and HTML templates
	* fixed undefined variable bug in content class ContenGroup
	* start page now uses a Smarty template to render HTML page
	* start page now also displays information about deployed/operational nodes
	* information about valid/online users and deployed/operational nodes gets
	  cached if caching has been enabled (valid/online users for 1 minute,
	  deployed/operational nodes for 5 minutes)

2006-02-17 Max Horváth <max.horvath@freenet.de>
	* refactored lost username site - now it also includes the help toolbox
	* lost username page now focuses input field automaticly (like on login or
	  signup page)
	* refactored lost password site - now it also includes the help toolbox
	* lost password page now focuses input field automaticly (like on login or
	  signup page)
	* refactored sesend validation email site - now it also includes the help
	  toolbox
	* refactored resend validation email page now focuses input field
	  automaticly (like on login or signup page)

2006-02-16 Max Horváth <max.horvath@freenet.de>
    * added full PHPdoc documentation to Mail class
    * added more temporary-email-address-providers to the black-list
	* Login site now uses a Smarty template to render HTML page
	* refactored signup site - now it also includes the help toolbox
	* removed Phlickr directory in /lib dir as Phlickr must be installed via
	  PEAR
	* modified gen.sh to include new template folders for the
	  translation file generation

2006-02-15 Max Horváth <max.horvath@freenet.de>
	* Login site now uses a Smarty template to render HTML page

2006-02-14 Max Horváth <max.horvath@freenet.de>
	* converted Session class to PHP5 style
	* moved code used used to init PHP into wifidog/include/init_php.php
	* fixed bug regarding APC (super globals weren't initialized before their
	  first use
	* in an attemp to enter the administration interface of WiFiDog and not
	  being logged in you'll be redirected to the administration interface after
	  a successful login, if you are an admin or owner of a node. This only
	  works for a virtual login, as it isn't needed to be done when logging in
	  via a WiFiDog node (then you have to login anyway on the splash page
	  first)
	* fixed preview of network in administration interface as content for a
	  network as is isn't available in the code, yet

2006-02-13 Rob Janes <janes.rob@gmail.com>
    * cron/cleanup.php needed new way to call common.php
	* added cron/vacuum.php to round things out

2006-02-07 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix a bunch of file inclusion bugs in the statistics subsystem.
	  This is only a ad-hac fix. It seems the requires for just about every
	  class have been stripped off. This must be fixed, all classes should
	  require_once all classes or include that they need that isn't included by
	  a parent class.

2006-02-06 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/local_content/default/hotspot_logo.jpg: Delete deprecated file
	* wifidog/local_content/default/hotspot_logo_banner.jpg: Delete deprecated
	  file

2006-02-04 Max Horváth <max.horvath@freenet.de>
	* MainUI class now uses Smarty templates to render HTML pages
	* display of debug messages by using $_REQUEST['debug_request'] on any
	  page is now only possible for a super admin
	* caching class now supports lifetime of a cache and every data type
	  supported by PHP (except the resource-type)
	* Content class caches available content plugins for 7 days if caching has
	  been enabled -> results in a nice speed-up on every page call because
	  of 17 saved filesystem queries
	* converted Security class to PHP5 style and it's functions to static
	  functions
	* fixed broken HTMLeditor support
	* implemented PEAR::HTML_Safe cache support - if PEAR::HTML_Safe has been
	  installed it strips down all potentially dangerous content within HTML
	  that has been entered using the content plugins Langstring,
	  TrivialLangstring and HTMLeditor
	* moved /wifidog/include/HTMLeditor to /wifidog/content/HTMLeditor
	* fixed thrown exception in path_defines_base.php (sprintf() was used
	  uncorrectly)
	* template for definition of SYSTEM_PATH has been added to config.php
	  for easier definiton when path detection failes
	* from now on caching is enabled by default in config.php - it means that
	  WiFiDog caching features will automaticly be used if PEAR::Cache_Lite
	  has been installed
	* updated installation file to represent all the new modules that can be
	  installed to use all WiFiDog features

2006-01-31 Benoit Grégoire  <benoitg@coeus.ca>
	* path_defines_base.php:  Fix syntax errors in the exception thrown. Add
	  more meaningfull output

2006-01-29 Max Horváth <max.horvath@freenet.de>
	* WiFiDog now detects APC PHP cache and eAccelerator PHP cache and disables
	  both PHP caches, because WiFiDog currently doesn't run with either of
	  those PHP caches (I'm still investigating why)
	* added a missing <ul> HTML tag on the administration page
	* the validation mail sent to new users now includes the full path to the
	  WiFiDog installation (before it assumed WiFiDog to be installed in
	  the document root of the webserver)
	* fixed display of start button of portal when WiFiDog is not installed
	  in the document root of the webserver
	* replaced $_SERVER["DOCUMENT_ROOT"]-stuff with our defines made in
	  path_defines_base.php
	* updated HTMLeditor content class to use the new, moved stylesheet.css
	* fixed error messages not displaying technical support e-mail address

2006-01-25 Max Horváth <max.horvath@freenet.de>
	* a notice message regarding timezones was being displayed when running PHP
	  5.1.0+ due to rewritten date functions of PHP. There is a new config flag
	  in config.php named DATE_TIMEZONE. Set it to your local timezone.
	  Don't forget to update your local.config.php in case you're using it.

2006-01-24 Benoit Grégoire  <benoitg@coeus.ca>
	* Dependencies.php:  We missed one more instance of non-unifrom code for
	  path detection. The Dependencies class now uses the code in
	  include/path_defines_base.php like the rest of the system. Also make it
	  returns more usefull error messages.
	* SmartyWifidog.php: Output the error returned by Dependencies if Smarty
      cannot be found for some reason.

2006-01-23 Max Horváth <max.horvath@freenet.de>
	* Removed compiled PHPdoc documentation
	* moved createDoc.sh to "doc" directory, documentation can be generated on
	  the fly now, in the future we'll be generating a nightly PHPdoc on
	  wifidog.org
	* renamed "ChangeLog" to CHANGELOG, resulting this file being parsed by
	  PHPdoc
	* moved "header.gif" image to its own folder in the images directory
	* touched almost every PHP file in WiFiDog auth server for PHPdoc generating
	  compiling without any warnings
	* Initialized uninitialized variables in Node class
	* Fixed initialization error of one variable
	* Configuration file (config.php) will be read before path detection is
	  being started (otherwise there was no chance to set a manual SYSTEM_PATH)

2006-01-22 Benoit Grégoire  <benoitg@coeus.ca>
	* common.php: Real fix for Ticket #59 ;)
	* common.php: Untested fix for Ticket #59

2006-01-18 François Proulx <francois.proulx@gmail.com>
	* Remove unneeded .cvsignore files since the svn:ignore property is set to
	  the same list

2006-01-11 Rob Janes <janes.rob@gmail.com>
    * classes/User.php: added setters, getters, throw exceptions, added
      refresh() subr, tweaked language

2006-01-09 Max Horváth <max.horvath@freenet.de>
	* createDoc.sh: added description of how to install requirements

2006-01-08 Benoit Grégoire  <benoitg@coeus.ca>
 	* common.php: Improve path detection code, and start moving PATH detection
 	  back to a central location. You should NEVER go to any $_SERVER[]
 	  variables for path related stuff, all you need is already available
 	  in defines.
 	* UserReport.php: Remove dangling reference to BASEPATH.
 	* install.php: Use centralised path detection.

2006-01-04 Benoit Grégoire  <benoitg@coeus.ca>
	* config.php, common.php: Completely remove SYSTEM_PATH from config.php,
	  making one less config option to manage.  It is now autodetected.

2006-01-03 Rob Janes <janes.rob@gmail.com>
	* added support for classes/EventLogging.php.
	* modified include/common.php to pull in the EventLogging class
	* modified index.php to kick start error logging with minimal setup.
	  I didn't setup a css for this, so any errors are simply pushed out
	  when the logging channel is destructed.
	* other changes to include/common.php - a host of utility functions,
	  prefixed with "cmn" to avoid namespace collision.
	* stock config.php, added global $AVAIL_LOCALE_ARRAY, cause of my change
	  to include/common.php, wrapping the require_once in a function.

2006-01-04 Pascal Leclerc <isf@plec.ca>
    * install.php: New security validation and small bugs fix in admin account
      creation

2006-01-02 Rob Janes <janes.rob@gmail.com>
	* split static stylesheet.css from smarty template stuff.
	  local_content/default/stylesheet.css has only smarty template stuff.
	  local_content/common/stylesheet.css has all the rest.
	* classes/MainUI.php changed to <link ...> the common stylesheet.css, while
	  still smarty fetching the templated stylesheet.
	* classes/SmartyWifidog.php changed to set a smarty template variable so
	  that the templating stylesheet could work.

2005-12-29 François Proulx <francois.proulx@gmail.com>
	* Integrating Philippe's code for User class
	* This build needs extensive testing please
	* E-mail blacklisting (Mail class)

2005-12-29 François Proulx <francois.proulx@gmail.com>
	* Added Aidan's file_exists_incpath function to Dependencies class
	* Translated and standardized most of PostgreSQL abstraction class.
	* Removed blank lines at end of many files
	* Tested the new Phlickr package, which fixes URL on Flickr

2005-12-28 Max Horváth <max.horvath@freenet.de>
	* Removed BASEPATH define from source - resulting in a better
	  require-overview
	* speed improvement of 7% by optimizing Dependencies class
	* improved documentation of content classes

2005-12-26 François Proulx <francois.proulx@gmail.com>
	* Fixed bug when the same user was owner of many nodes
	* Added missing reference to content_display_location initial data in dump
	  script

2005-12-26 François Proulx <francois.proulx@gmail.com>
	* Tiny modifications to config.php
	* Reinserted the deprecated defines, created errors on my system
	* Fully translated FormSelectGenerator class, Locale
	* Added comments to Utils, Locale etc..
	* Fully tested installation from scratch using blank database with
	  installation script
	* Improved installation script a bit
	* Synched SQL for CVS schema 29 --> 33

2005-12-26 Max Horváth <max.horvath@freenet.de>
	* added new headers to every source file
	* converted file to represent a tab as four (4) spaces
	* added PhpDocumentor documentation
	* added WiFiDog skin to HTMLeditor
	* language selection in a content class now shows the language name instead
	  of the language code
	* added caching support to content classes Langstring and TrivialLangstring

2005-12-15 Max Horváth <max.horvath@freenet.de>
	* fixed bug in dependencies class when gettext support for PHP is not
	  available

2005-12-14 Max Horváth <max.horvath@freenet.de>
	* fixed bug in config.php:59 ... was unable to select DB server

2005-12-08 Max Horváth <max.horvath@freenet.de>
	* added FCKeditor to the supported libraries
	* added new content type: HTMLeditor
	* added new caching class which uses PEAR::Cache_Lite - must be enabled in
	  config.php
	* HTMLeditor is the first class using the new caching class
	* removed unused function from content type Langstring
	* beautified and reorganized config.php and added a new switch for the
	  caching class

2005-12-06 Max Horváth <max.horvath@freenet.de>
	* fixed SQL bug when calling the "report configuration" page as a node owner

2005-12-05 François Proulx <francois.proulx@gmail.com>
	* Crunched the Google Maps Div block for better display on small screens

2005-12-05 Max Horváth <max.horvath@freenet.de>
	* fixed bug when calling the preview version of a login page

2005-11-30 Benoit Grégoire  <benoitg@coeus.ca>
	* User.php: Fix a bug in the sql query in isUserValid(). Checked that the
	  change works with postgresql 7.4 and 8. It is still not understood why
	  ISF doesn't encounter this bug on it's production server.

2005-11-28 François Proulx <francois.proulx@gmail.com>
	* Improved Flickr user output
	* Mostly completed Flickr admin UI
	* Changed display algorithm to display sequentially

2005-11-25 Rob Janes <janes.rob@gmail.com>
	* EventLogging class initial checkin

2005-11-14 Max Horváth <max.horvath@freenet.de>
	* fixed path to included classes
	  Guys, please check the paths to included files twice next time you're
	  moving files

2005-11-12 François Proulx <francois.proulx@gmail.com>
	* Fixed schema 33 update
	* fixed css

2005-11-11 François Proulx <francois.proulx@gmail.com>
	* Fixed Admin hotspot location map
	* Take note: Google Maps updated their API key system, so that you simply
	  need to register a key for the whole domain.
	  ie. one key for http://auth.abc.org will work even in sub-directories
	* Changed the Content classes structure to make them "pluggable" more easily
	  as requested during last developpers meeting
	* node_list.php now support column sorting, node_id are naturally sorted
	  (numerical order, alphabetic)
	* Added 2-dimensionnal natural sort algorithm to Utils class
	* fixed Node::getSelectNodeUI to naturally sort by node_id
	* Improved Flickr content class
	* Modified Flickr database schema
	* Modified CSS look and feel

2005-11-08 Philippe April  <philippe@ilesansfil.org>
	* Put a note to mention the roles of users in the logged in users list
	* Fixed online users link to statistics

2005-11-01 Max Horváth <max.horvath@freenet.de>
	* added german translation
	* modified gen.sh to include geocoder and statistics classes for the
	  translation file generation
	* modified hotspot status page to allow translations of every string
	* modified node list page to allow translations of every string
	* modified FAQ page to allow translations of every string
	* fixed bug in FAQ page which caused the Safari browser to display very
	  large text
	* modified online users page in administration to allow translations of
	  every string
	* added Phlickr directory to /lib

2005-10-25 Francois Proulx <francois.proulx@gmail.com>
	* /classes/DateTime.php : First iteration of DateTime abstraction class
	* Basic support for datetime input field.
	* TODO : Overhaul with full-fledged datetime selector...

2005-10-25 Francois Proulx <francois.proulx@gmail.com>
	* AuthenticatorRadius : Fixed legacy variable misuse

2005-10-24 Benoit Grégoire  <benoitg@coeus.ca>
	* AuthenticatorRadius:  Fix bug reported by kouete, by inspection. Fix not
	  actually tested. Guys, read the documentation of the function parameters
	  when you code, it's there to help you ;)

2005-10-21 Francois Proulx <francois.proulx@gmail.com>
	* Integration testing for Radius debugging
	* Added network_id parameter to hotspot_status.php for selecting network
	* Default network will be automatically selected...

2005-10-04 Francois Proulx <francois.proulx@gmail.com>
	* Scaled down network logo
	* Changed CSS accordingly
	* Modified online users SQL query to sort better

2005-10-04 Francois Proulx <francois.proulx@gmail.com>
	* Removed unwanted file from checkout

2005-10-07 Philippe April  <philippe@ilesansfil.org>
	* Released wifidog-auth-1.0.0_m2

2005-10-06 Benoit Grégoire  <benoitg@coeus.ca>
	* AuthenticatorLocalUserNoSignup:  Make a new authenticator, identical to
	  AuthenticatorLocalUser but disalowing new user signup.  When setting up
	  a server, you can add your users, and then change the authenticator class
	  from AuthenticatorLocalUser to AuthenticatorLocalUserNoSignup
	* signup.php: Actually enforce it. Still needs improvement, as the network
	  is still shown for signing up.

2005-10-04 Francois Proulx <francois.proulx@gmail.com>
	* Translated some error message in SQL abstraction
	* Cleaned up error messages when starting from scratch
	* Added link to install script, when the database is empty.
	* Fixed initial data dump script

2005-10-04 Benoit Grégoire  <benoitg@coeus.ca>
	* Remove a bunch of deprecated methods from the Node object,
	  document undocumented methods.
	* Make the node id editable.  This allows the gateway "MAC address as node
	  ID" patch by London wireless to be usable with the standard auth server,
	  and to transition to using MAC address as node ID.
	* Fix a saving problem with all the content types with some versions of PHP
	* Add a new Content type:  IFrameRest.  This allows the result of a REST
	  style query returning HTML to be displayed in a HTML iframeset. Currently
	  supported are substitution of the node_id, the user_id and the last
	  display date in the get query.
	* CVS version of the auth server should now be "reasonnably" safe to use in
	  production, so the 2005-09-01 notice is no longuer in effect.

2005-10-04 Francois Proulx <francois.proulx@gmail.com>
	* Translated signup page messages

2005-09-27 Benoit Grégoire  <benoitg@coeus.ca>
	* Partial login page content manager support (Node only for now)

2005-09-27 Philippe April  <philippe@ilesansfil.org>
	* Guess the best language from what the browser sends,
	  otherwise use the default.

2005-09-26 Francois Proulx <francois.proulx@gmail.com>
	* Translated the few new sentences on the login page

2005-09-26 Benoit Grégoire  <benoitg@coeus.ca>
	* login/index.php, stylesheet.css:  Make the create new account bigger, and
	  remove unnecessary words.

2005-09-26 Francois Proulx <francois.proulx@gmail.com>
	* Completed translations

2005-09-26 Francois Proulx <francois.proulx@gmail.com>
	* Fixed annoying bug in new google maps code

2005-09-25 Francois Proulx <francois.proulx@gmail.com>
	* Complete rewrite of Google maps code, now stands as a js class
	* relooking of mapping stuff
	* wrote basic "Find the closest hotspot" widget for canada geocoding only...
	* fixed broken xml, damn blank lines...

2005-09-25 Benoit Grégoire  <benoitg@coeus.ca>
	* Statistics:  At long last, the monster statistics commit.
	  We finally have a stable, documented and uniform codebase for statistics.
	  This resulted is removal of several functions in other classes too.
	  There are a few new reports, but mostly, each report is a lot more
	  flexible.
	  Still TODO:
	  - Security:  This is to be implemented directly in the Statistics class,
	    by forcing restrictions to the selected nodes and network.
	  - Support selecting multiple users for a report.
	    The code and SQL queries support it, but the UI doesn't. An easy and
	    quick way would be to simply parse a coma-separated list. Comment are
	    off course welcome!

2005-09-25 Francois Proulx <francois.proulx@gmail.com>
	* Updated initial SQL script to schema 29
	* Remove useless includes in some files, preventing from using the "plugin"
	  contents

2005-09-25 Philippe April  <philippe@ilesansfil.org>
	* Make method getCurrentRealNode ORDER BY DESC so it picks
	  up the latest network name

2005-09-20 Francois Proulx <francois.proulx@gmail.com>
	* Changed the output layout of the Google Maps hotspots list
	* Added "Loading" message on Google Maps

2005-09-17 Francois Proulx <francois.proulx@gmail.com>
	* Fixed forgotten reference to getNetwork in AuthLocalUser

2005-09-17 Francois Proulx <francois.proulx@gmail.com>
	* Fixed a few bugs in Radius class
	* Improved syntax and completed 100% of French translations

2005-09-17 Francois Proulx <francois.proulx@gmail.com>
	* Fixed RADIUS bug #1287000

2005-09-16 Francois Proulx <francois.proulx@gmail.com>
	* Added Mail Classes to circumvent mb_send_mail UTF-8 problems
	* This class provides UTF-8 mailing for validation e-mail, lost password,
	  lost username...
	* Fixes reported bug where users would not receive validation email on
	  some servers

2005-09-13 Francois Proulx <francois.proulx@gmail.com>
	* Added bytes in words for online users

2005-09-13 Francois Proulx <francois.proulx@gmail.com>
	* Fixed bug in user stats

2005-09-13 Francois Proulx <francois.proulx@gmail.com>
	* Added access permissions for statistics.

2005-09-12 Benoit Grégoire  <benoitg@coeus.ca>
	* schema_validate.php:  Fix a bug version 26.  The conversion of the old
	  account_origin as a parameter to the authenticator was wrong.  To fix it
	  manually if you already ran the script, you must quote the parameter in
	  column network_authenticator_params in the networks table.
	* Network.php:  Fix improper quoting of Authenticator arguments.
	* RssPressReview.php:  Make expansion of today's item optionnal.

2005-09-11 Francois Proulx <francois.proulx@gmail.com>
	* Fixed dependency check, found a workaround for the file_exists problem

2005-09-11 Francois Proulx <francois.proulx@gmail.com>
	* Added dependency check for Phlickr

2005-09-11 Francois Proulx <francois.proulx@gmail.com>
	* Fixed Flickr support
	* Now using PEAR version of Phlickr
	* Download the latest package and install like this: pear install
	  PhlickrXYZ.tar.gz

2005-09-10 Francois Proulx <francois.proulx@gmail.com>
	* Fixed dependency check

2005-09-10 Francois Proulx <francois.proulx@gmail.com>
	* Removed many blank lines after php tags
	* added more checks, for dates etc...
	* changed sorting mode

2005-09-10 Benoit Grégoire  <benoitg@coeus.ca>
	* Add UI to add a new Network
	* Improve UI to add a new Node and new Content

2005-09-10 Philippe April  <philippe@ilesansfil.org>
	* signup.php: Fixed bug in detecting is the user is already part of the
	  network.
	* classes/{Authenticator,Network,Node}.php: isset, and issues preventing
	  users from logging out.
	* add BASEPATH to most files with require_once
	* Added dependency checking class
	* Don't show the admin menu if user does not have access
	* Got rid of user_log_detailed.html, using stats.php instead

2005-09-10 Francois Proulx <francois.proulx@gmail.com>
	* Automatically redirect user to login form when trying to access admin
	* Added various isset, empty tests, vars init in stats (to avoid PHP
	  warning)

2005-09-08 Philippe April  <philippe@ilesansfil.org>
	* New stats system with graphs
	* Changed the UI a bit to reflect this change
	* Updated stylesheet

2005-09-08 Benoit Grégoire  <benoitg@coeus.ca>
	* portal/index.php:  Custom portal redirect now operational.

2005-09-08 Benoit Grégoire  <benoitg@coeus.ca>
	* MainUI:  Move call to garbage_collect() here.
	* portal/index.php:  New feature:  Custom portal redirect.
	* rework much of the logout code

2005-09-07 Benoit Grégoire  <benoitg@coeus.ca>
	* login/index.php:  Fix getSplashOnlyUser() method call.

2005-09-07 Benoit Grégoire  <benoitg@coeus.ca>
	* RssPressReview.php:  Fix z-index so the hovers will overlap the expanded
	  news.
	* login/index.php:  Reorganise code to make it more legible and comment what
	  it does. Emphasise error messages and put them right above where they
	  clicked so users can actually see them.
	* Security.php:  Remove deprecated login code
	* Authenticator.php: Change calling convention for better encapsulation
	* New feature:  Support multiple simultaneous logins if enabled in network
	  configuration
	* New feature (in testing): Splash-only node support

2005-09-05 Benoit Grégoire  <benoitg@coeus.ca>
	* include/common.php:  Add code to undo the effect of magic_quote if enabled
	  in the server config.  It is still strongly recommended to disable
	  magic_quote
	* Node.php:  Add UI for splash only node and custom portal
	* Update schema

2005-09-04 Francois Proulx <francois.proulx@gmail.com>
	* Removed update.php script ( should not have been in CVS )
	* Moved authenticator require in Network getAuthenticator()

2005-09-03 Philippe April  <philippe@ilesansfil.org>
	* Schema change: Added last_paged column to nodes table
	* Replaced HOTSPOT_NETWORK_NAME with hotspot_network_name in all templates
	* s/Networt/Network/
	* Fixed signing up and validation, typos

2005-09-01 Benoit Grégoire  <benoitg@coeus.ca>
	WARNING:  DO NOT use the CVS auth server in production until further notice.
	Massive internal changes are underway.
	Use the release tagged 1.0m1 in production.
	* Network abstraction mostly complete, including UI.
	  All that is missing is new network creation, network stakeholder UI and
	  testing.
	* Cleanup the config file of all the now unneeded constants.
	  Note that the install script is currently broken.
	  There can now be multiple networks on the server.
	  The install script will have to make sure that there is at least one, with
	  one super-admin

2005-08-31 Francois Proulx <francois.proulx@gmail.com>
	* Fixed bug where node ID containing periods, whitespaces or underscores
	  would confuse PHP
	* MD5 hash is used to make sur the http vars are unique
	* This is only valid for Node administration

NOTE:  the 1.0m1 release was tagged here

2005-08-31 Benoit Grégoire  <benoitg@coeus.ca>
	* Node.php:  Fix node creation

2005-08-31 Francois Proulx <francois.proulx@gmail.com>
	* Fixed new node creation bug

2005-08-29 Philippe April <philippe@ilesansfil.org>
	* js/gmaps_hotspots_status_map.js: Fixed small bug in that makes prevents
	  IE to see the map properly.

2005-08-22 Pascal Leclerc  <pascal@plec.ca>
	* install.php, Change javascript to OnClick + dependencie note
	* schema_validate.php, Fix broken DB update for install.php
	* SmartyWifidog.php, Add automatic redirect to install.php if Smarty not
	  installed

2005-08-22 Francois Proulx <francois.proulx@gmail.com>
	* Added edit button for quickly accessing Content editing mode
	* Changed the layout so the admin ui fits in a tighter space

2005-08-21 Francois Proulx <francois.proulx@gmail.com>
	* Added reference to new street address fields in mapping page and on status
	  template
	* Fix bug on line 756 of RssPressReview , added check for empty var.
	* Flickr support is broken, added  bug to sf.net tracker

2005-08-21 Francois Proulx <francois.proulx@gmail.com>
	* Node admin UI should now be completed.
	* Minor bug fixes in Geocoder
	* Merged node_owners and node_tech_officers table into node_stakeholders

2005-08-19 Benoit Grégoire  <benoitg@coeus.ca>
	* New schema version
	* install.php, tmp/magpie_cache/:  Move all magpie caches
	  to a central location, adjust install script to match.
	* classes/MainUI.php:  Add $_REQUEST array output if debug_request is set as
	  a parameter to the page
	* classes/Network.php, classes/Node.php:  Change content ordering to be most
	  recently subscribed first, this is a stopgap measure while waiting for
	  Content ordering to be explicitely settable.
	* classes/Content/RssAggregator.php:  Full admin UI, some bug fixes
	* lib/RssPressReview/RssPressReview.php: New version, adds isFeedAvailable()
	  and getFeedTitle() methods.
	  Fixes minor bugs

2005-08-17 Pascal Leclerc  <pascal@plec.ca>
    * Added install script + minor changes in schema_validate.php

2005-08-15 Benoit Grégoire  <benoitg@coeus.ca>
	* Re-Run sync_sql_for_cvs.sh, did not run to completion last time.

2005-08-15 Benoit Grégoire  <benoitg@coeus.ca>
	* Run sync_sql_for_cvs.sh
	* sql/dump_initial_data_postgres.sh:  Fix a hardcoded reference to rss_url
	  which no longer exists
	* .project:  Remove mistakenly commited file in last commit
	* .cvsignore:  Add file to avoid previous error

2005-08-12 Francois Proulx <francois.proulx@gmail.com>
	* Added missing GisPoint fille to CVS
	* Fixed some bugs
	* Added Technical officer table
	* Added technical officer management to node UI

2005-08-12 Francois Proulx <francois.proulx@gmail.com>
	* Changed config.php GMAPS_API_KEY to GMAPS_PUBLIC_API_KEY
	* Added GMAPS_ADMIN_API_KEY, needed for admin UI
	* This is a stupid limitation of the Google Maps API which matches the
	  complete URL path
	* Added /classes/GisPoint.php class
	* Will add geocode + Google Maps capabilities very soon
	* Notice : the XML schema will change very soon...
	* I will try to keep the streetAddress field intact so I won't break
	  backward compat.

2005-08-12 Benoit Grégoire  <benoitg@coeus.ca>
	* classes/MainUI.php: Move the call to schema_validate() in MainUI's
	  constructor
	* lib/RssPressReview/RssPressReview.php: Finish rewrite. Move there to
	  reflect it's independently maintained status
	* wifidog/classes/Content/HotspotRss.php:  Delete the class, obsolete
	* wifidog/classes/Content/RssAggregator.php:  Functionnal, but needs it's
	  admin UI written.
	* wifidog/include/schema_validate.php:  Create the table structure for the
	  new RssAggregator.
	  Remove rss_url in nodes table, no longer needed.  Move it's data to the
	  new Content class.

2005-08-11 Francois Proulx <francois.proulx@gmail.com>
	* Refactored the Admin UI.
	* I need to write the upload form and rewrite statistics

2005-08-10 Francois Proulx <francois.proulx@gmail.com>
	* More GIS stuff

2005-08-10 Francois Proulx <francois.proulx@gmail.com>
	* Added Geocoders
	  - /classes/AbstractGeocoder.php
	  - /classes/Geocoders/GeocoderCanada.php
	  - /classes/Geocoders/GeocoderUsa.php
	* This will be used for enterring GIS data
	* Coming in the next few days: set hotspot gis using Google Maps + Geocoding

2005-01-25 Pascal Leclerc  <pascal@plec.ca>
	* Fix hardcoded images path in classes/MainUI.php

2005-07-25 Francois Proulx <francois.proulx@gmail.com>
	* Fixed bug in hotspot_status , added htmlspecialchars();
	* This solved the bug where ampersands would break the XML

2005-07-17 Francois Proulx <francois.proulx@gmail.com>
	* Fixed bugs in gen.sh, compile.sh locale scripts

2005-07-12 Francois Proulx <francois.proulx@gmail.com>
	* Changed XML element from hotspotsMetadata to hotspots and added networkUri
	  element to networkMetadata

2005-07-12 Francois Proulx <francois.proulx@gmail.com>
	* Fixed XML protocol for exchanging hotspots status.
	* Should now be considered stable (stamped v1.0)
	* Fixed hotspots status map to reflect the changes
	* Added french translations

2005-07-11 Francois Proulx <francois.proulx@gmail.com>
	* Changed link to hotspots map using NON ssl because Google Keys are
	  sensitive to the whole path.

2005-07-11 Benoit Grégoire  <benoitg@coeus.ca>
	* classes/RssPressReview.php: Begin rewrite.
	* classes/MainUI.php: Add addFooterScript() function.
	* venues_map.php:  Workaround the IE DOM problem.

2005-07-05 Francois Proulx <francois.proulx@gmail.com>
	* Changed wording in hotspots status page added legend

2005-07-05 Francois Proulx <francois.proulx@gmail.com>
	* Minor adjustements to icon positionning

2005-07-05 Francois Proulx <francois.proulx@gmail.com>
	* Changed google maps marker icons

2005-07-05 Francois Proulx <francois.proulx@gmail.com>
	* Added missing elements in XML exchange format
	* Stable v1.0 for XML exchange format and Google Maps mapping
	* Added GMaps constants to config file
	* Unsmartied index.php , added link to map
	* Check config.php to set corresponding values
	* You can now use hotspot_status.php?format=XML along with xslt query string
	  parament to convert your XML document
	* For this to work, You need to have activated XSLT ( see config file )

2005-07-05 Francois Proulx <francois.proulx@gmail.com>
	* Added Google Maps mapping venues_map.php
	* /js/venues_status_map.js  JavaScript code for Mapping
	* In beta : tested successfuly with 48 nodes in the Montreal area, loads in
	  a snap

2005-07-03 Francois Proulx <francois.proulx@gmail.com>
	* Updated the XML venues status format ( version 1.0, once approved )
	* Added long / lat fields to nodes table ( for mapping purposes )

2005-06-17 Francois Proulx <francois.proulx@gmail.com>
	* Added IFrame and SimpleIFrame content types.

2005-06-28 Benoit Grégoire  <benoitg@coeus.ca>
	* classes/Content/Langstring.php:  Bug fix:  Langstring was always
	  non-persistent, no matter the checkbox.  Move the code to
	  TrivialLangstring.php where it belongs.

2005-06-21 Benoit Grégoire  <benoitg@coeus.ca>
	* portal/inted.php:  Implement the start button functionnality (maybe it
	  would be better to call it "use the Internet").  From now on, once
	  authenticated and when pressing the start button on the portal, the user
	  will be sent to the page he originally tried to access.  A second window
	  will be popped with the portal page so he can come back to it. The window
	  is collapsed, and can be expanded back by clicking on the link. I tried
	  to make it cross platform (and mostly did) but it's still buggy in IE.

	  At the same time, this fixes the goof reported by Rob Kelley of
	  nycwireless.net

	* portal/missing_original_url.php:  Displayed when the user tries to use the
	  start button but for some reason the original url is unavailable
	* common.php:  New define CURRENT_REQUEST_URL, hopefully containing the full
	  URL in the user's URL bar.


2005-06-17 Francois Proulx <francois.proulx@gmail.com>
	* Removed forced Pattern Language on all hotspots
	* Do not show hotspot logo in portal page, only on login, until we find a
	  better layout

2005-06-16 Francois Proulx <francois.proulx@gmail.com>
	* Added XML output format for hotspot_status.php
	* Rough draft v1.0
	* TODO move to different classes once stabilized
	* Can use XSLT, if activated ( XSLT_SUPPORT constant )
	* ie : http://wifidog-auth.org/hotspot_status.php?format=XML&xslt=http://wifidog-auth.org/xslt/hotspot_status.xsl
	* or simply : http://wifidog-auth.org/hotspot_status.php?format=XML

2005-06-06 Francois Proulx <francois.proulx@gmail.com>
	* Added long description field to content table
	* MUST use schema_validate
	* Modified Pattern Language to be more generic
	* resend changelog

2005-06-06 Francois Proulx <francois.proulx@gmail.com>
	* Made changes to Pattern Language ( Kate Armstrong )

2005-05-30 Philippe April <philippe@ilesansfil.org>
	* Show username in user_stats.php instead of user_id
	  and in other admin pages

2005-05-30 Francois Proulx <francois.proulx@gmail.com>
	* Changed language selectbox name so it does not clash with ISF's domain
	  cookie
	* Fixed setlocale algorithm in Locale.php

2005-05-29 Francois Proulx <francois.proulx@gmail.com>
	* Missing null check in validate.php

2005-05-27 Francois Proulx <francois.proulx@gmail.com>
	* Changed the signup process to make it smoother for users
	* The user will automatically be granted the 15 minutes if he's signing up
	  at a real hotspot
	* If the user closes his browser during the 15 minutes and loses its
	  session, we will regenerate it
	* Added big red message to the top of the portal page, warning user to
	  validate as soon as possible
	* Fixed translation typos

2005-05-26 Benoit Grégoire  <benoitg@coeus.ca>
	* Someone moved the fallback gettext functions definition (for when gettext
	  isn't installed) inside the static setCurrentLocale method, completely
	  breaking the system when PHP doesn't have gettext support.  This is an
	  untested fix.

2005-05-24 Francois Proulx <francois.proulx@gmail.com>
	* Fixed bug in auth.php to let users go through when the click twice on the
	  login button
	* Fixed bug in hotspot_log.php

2005-05-24 Francois Proulx <francois.proulx@gmail.com>
	* Added "Get access statistics" button to Node admin to get hotspot specific
	  stats
	* Added search box in Users log to get a specific user stats quickly

2005-05-24 Francois Proulx <francois.proulx@gmail.com>
	* Fixed typo in some translations
	* Cleaned-up todos

2005-05-18 Francois Proulx <francois.proulx@gmail.com>
	* Added strip_tags in RssPreview ( some malformed HTML would break the page
	  layout)

2005-05-16 Francois Proulx <francois.proulx@gmail.com>
	* Changed login message in MainUI to make it clearer what the login button
	  will do

2005-05-13 Philippe April <philippe@ilesansfil.org>
	* Added deployment status to node_list

2005-05-11 Francois Proulx <francois.proulx@gmail.com>
	* Began writing user profiles
	* Added many methods to User class
	* Added node quota fields in DB ( bandwidth, throttling ...)

2005-05-10 Francois Proulx <francois.proulx@gmail.com>
	* Fixed Login link in signup page ( MainUI.php ) if the Session has gw_id,
	  gw_address, gw_port show physical login link

2005-05-10 Francois Proulx <francois.proulx@gmail.com>
	* Added download button CSS class to style button

2005-05-10 Francois Proulx <francois.proulx@gmail.com>
	* Fixed wrong method name in File.php
	* Added strip tags to Langstring
	* Basic styling of content_admin table

2005-05-04 Francois Proulx <francois.proulx@gmail.com>
	* Fixed serialization issue ( flickr)
2005-05-04 Francois Proulx <francois.proulx@gmail.com>
	* Improved caching
	* Wrote very basic gridview code for Flickr

2005-05-04 Francois Proulx <francois.proulx@gmail.com>
	* Implemented caching for Flickr
	* Need to contact Phlickr to see how we could do better, since serialize
	  does not work OK on objects

2005-05-04 Francois Proulx <francois.proulx@gmail.com>
	* Fixed bug concerning Content-Length header
	* Changed default Unit size for setLocalFileSize to bytes

2005-05-04 Francois Proulx <francois.proulx@gmail.com>
	* Added BLOB support
	* modified file_download.php to support new header attributes
	* Added ImportLargeObject, UnlinkLargeObject to PG SQL abtraction
	* Make sure your PHP.ini contains the right value to allow big downloads
	* Check : http://ca3.php.net/manual/en/features.file-upload.common-pitfalls.php
	* ISF Live server is now configured to support 100 megabytes files

2005-05-04 Francois Proulx <francois.proulx@gmail.com>
	* Fixed CSS IE Bug
	* Fixed SQL query
	* NEED HELP FROM A WEB DESIGNER !!!!!

2005-05-03 Francois Proulx <francois.proulx@gmail.com>
	* Disabled logging in Pattern Language archives

2005-05-03 Francois Proulx <francois.proulx@gmail.com>
	* Having for SQL query... :-(

2005-05-02 Francois Proulx <francois.proulx@gmail.com>
	* PatternLanguage is now completed

2005-04-30 Francois Proulx <francois.proulx@gmail.com>
	* Logout button will now destroy session AND render token USED

2005-04-30 Francois Proulx <francois.proulx@gmail.com>
	* Fixed bug that could potentially let non owners add content in /content
	  through content groups
	* Admin menu won't show node selector if the user is not owner of at least
	  one hotspot
	* Added Width, height support for Picture

2005-04-30 Francois Proulx <francois.proulx@gmail.com>
	* Did my best for content styling ... ( it's 5h00 am )

2005-04-30 Francois Proulx <francois.proulx@gmail.com>
	* Updated sync_sql_for_cvs.sh

2005-04-30 François Proulx <francois.proulx@gmail.com>
	* ChangeLog entry missed by CVS ?!
	* Locale now decomposes the locale string by '_'
	* Now works on Mac OS X ( but you must use fr_CA, en_CA or fr_FR ... )

2005-04-30 François Proulx <francois.proulx@gmail.com>
	* Trying to solve RSS encoding bug...
	* Testing on live server

2005-04-29 François Proulx <francois.proulx@gmail.com>
	* Removed all inline unuseful javascript code on submit buttons
	  onclick='submit()'
	* This conflicted with the actual click on the submit button in Safari
	* Fixed check in Network for isOwner, only check superAdmin
	* Fixed bug so you can't add an existing content group to itself (deadlock)
	* Started coding Pattern language narrative display

2005-04-29 François Proulx <francois.proulx@gmail.com>
	* Wrote User.php addcontent, removeContent, getAllContent()
	* Wrote Content.php subscrite() and unsubscribe()
	* Added parameters to getAllContent() in Node and Network
	  (exclude_subscribed_content)
	* These will be used for subscribing a to some content
	* Pattern Language will be the first to use it
	* Online users lists
	* Fixed bugs in Node and Network ( isOwner check )

2005-04-28 François Proulx <francois.proulx@gmail.com>
	* Logout button build a query string containing gw_id, gw_address, gw_port
	  ( if available ), so that a user at a physical hotspot will get the login
	  page from the hotspot he is.
	* Fixed but in Locale ( did not propertly set the locale in the session )

2005-04-28 François Proulx <francois.proulx@gmail.com>
	* Added check in MainUI toolbar so that it won't show "NOT logged in ?"
	  message when connect to a real hotspot ( not virtual )
	* This message confused many users ( they clicked and got the virtual login
	  instead ! )
	* Hide adminstration features ( statistics, hotspot creation, network wide
	  content etc...) from all but Super admins
	* Fixed getAllLocativeArtisticContent in Node.php added is_persistent check
	* Added $associate_existing_content parameter to processNewContentUI to
	  allows reuse for existing content ( in ContentGroup )
	* Fixed bug in FlickrPhotoStream delete ( missing return from parent )
	* Added security check in all content classes ( ProcessAdminUI )

2005-04-26 François Proulx <francois.proulx@gmail.com>
	* Replaced show only content groups by show persistent

2005-04-26 François Proulx <francois.proulx@gmail.com>
	* Added missing /content directory

2005-04-26 François Proulx <francois.proulx@gmail.com>
	* Added /content/ for displaying all content elements
	* Logging is disable when viewing them
	* All content elements will expand
	* Pattern languages won't display everything ( special property )
	  isExpandable
	* Added a link in portal pages to go to /content/
	* Added Show all contents button in content_admin.php

2005-04-27 Benoit Grégoire  <benoitg@coeus.ca>
	* Content.php, ContentGroup.php:  All Content now implement the
	  isDisplayableAt($node).  Used by the portal, if content has nothing
	  displayabel, the entire content is skipped.

2005-04-27 Benoit Grégoire  <benoitg@coeus.ca>
	* FlickrPhotostream.php:  Fix the object so it doesn't crash when flicker is
	  disabled.

2005-04-27 Benoit Grégoire  <benoitg@coeus.ca>
	* ContentGroup.php:  Fully functionnal content rotation engine, with all
	  options supported. Rotation based on session may not be reliable if the
	  user isn't truly logged in (from a node).

2005-04-26 François Proulx <francois.proulx@gmail.com>
	* Most of the missing translations

2005-04-26 François Proulx <francois.proulx@gmail.com>
	* Changed back File to non trivial
	* portal page stylesheet

2005-04-26 Benoit Grégoire  <benoitg@coeus.ca>
	* ContentGroupElement.php:  It shouldn't be allowed to create a new content
	  element in isolation.  Unfortunately the UI allows if for now.  Such
	  content will now be deleted.
	* Locale:  Fix string selection algorithm to pick the right language.
	* Content:  Implement display logging.

2005-04-26 François Proulx <francois.proulx@gmail.com>
	* stylesheet rework

2005-04-26 François Proulx <francois.proulx@gmail.com>
	* Fixed wrong location for change password link

2005-04-25 François Proulx <francois.proulx@gmail.com>
	* Portal page styling

2005-04-26 Benoit Grégoire  <benoitg@coeus.ca>
	* ContentGroup.php:  Previous fix didn't work.  New fix.

2005-04-26 Benoit Grégoire  <benoitg@coeus.ca>
	* ContentGroup.php:  Make bad selection mode eror non-fatal.

2005-04-25 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix bug in ContentGroup enumeration

2005-04-25 François Proulx <francois.proulx@gmail.com>
	* More stylesheets work

2005-04-25 François Proulx <francois.proulx@gmail.com>
	* Much better stylesheet

2005-04-25 Benoit Grégoire  <benoitg@coeus.ca>
	* UI fully functionnal

2005-04-25 François Proulx <francois.proulx@gmail.com
	* More interface work

2005-04-25 François Proulx <francois.proulx@gmail.com
	* Completed integration of new interface with new objects

2005-04-25 Benoit Grégoire  <benoitg@coeus.ca>
	* Integration merge, should work, but there will be display problems
	  everywhere.  Expect further commits today.
	* Almost 100% complete Network abstraction
	* Much better object encapsulation.  Deprecated methods not removed yet.
	* Add MainUI class.  Used to display the interface.  Inner workings still
	  need work.

2005-04-23 François Proulx <francois.proulx@gmail.com>
	* Added Preferred Size support for Flickr pictures

2005-04-23 François Proulx <francois.proulx@gmail.com>
	* Completed missing translations

2005-04-23 François Proulx <francois.proulx@gmail.com>
	* Fixed bugs in File and EmbeddedContent
	* Completed first iteration of EmbeddedContent
	* Can now play multimedia content
	* Could not test fallback with my browser ( Safari and Firefox )
	* Need help to test content in different browser to see how it reacts...

2005-04-22 François Proulx <francois.proulx@gmail.com>
	* Fixed bug in FlickrPhotostream.php
	* Params did not match new methods requirements ( getUserByEmail )
	* Changed stylesheet class name for Flickr to match new changes
	* Fixed bugs in File
	* Wrote part of EmbeddedContent ( partially working )
	* TODO: add support for parameters and attributes in EmbeddedContent

2005-04-22 François Proulx <francois.proulx@gmail.com>
	* Fix schema version in François's commit

2005-04-21 François Proulx <francois.proulx@gmail.com>
	* Added explicit admin UI exceptions support for Flickr
	* Completed File and Picture objects

2005-04-20 François Proulx <francois.proulx@gmail.com>
	* Completed Flickr support ( explicit exceptions catching )
	* Most of File object is done
	* Fixed bug in generic_object_admin.php
	* changed stylesheet class tags for Flickr

2005-04-18 François Proulx <francois.proulx@gmail.com>
	* Added Flickr content support
	* Part of File object is done

2005-04-19 Benoit Grégoire  <benoitg@coeus.ca>
	* Working (beta...) content manager and portal.
	* Add content preview mode

2005-04-18 Benoit Grégoire  <benoitg@coeus.ca>
	* Hotspot and network content association, continue access control work.
	* hotspot_owner.php: Fix wrong assignement of user_id that prevented the
	  script from working.
	* All files:  Remove whitespace and carriage return after the ?> closing
	  tags.

2005-04-18 Benoit Grégoire  <benoitg@coeus.ca>
	* Much more complete admin, initial access control work.

2005-04-15 Benoit Grégoire  <benoitg@coeus.ca>
	* Support more of the content object model, do a half-decent CSS for the
	  admin interface.

2005-04-14 Benoit Grégoire  <benoitg@coeus.ca>
	* Content.php:  Use full langstring interface by default;

2005-04-14 Benoit Grégoire  <benoitg@coeus.ca>
	* Content.php:  Fix db reference;

2005-04-14 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix Content object enumeration preventing usage of admin interface
	* Partial fix for RSS feed encoding (multiple feed aggregation still broken)

2005-04-14 Benoit Grégoire  <benoitg@coeus.ca>
	* First part of the future content delivery infrastructure. Many files added

2005-04-01 François Proulx  <francois.proulx@gmail.com>
	* Modified gen.sh script to match UTF-8
	* Added PAP RADIUS encryption support ( asked by Paris Sans Fil )

2005-04-01 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/templates/auth_sources_selection.html:  Add missing file from
	  Francois's commit.

2005-04-01 Philippe April <philippe@ilesansfil.org>
	* Fixed missing parenthesis in classes/User.php
	* Removed unused files
	* fixed schema_validate.php (typos)

2005-04-01 Francois Proulx  <francois.proulx@gmail.com>
	* EVERYTHING IS NOW UTF-8 YOU MUST EDIT YOUR FILES WITH AN UTF-8 COMPLIANT
	  EDITOR
	* The database will be converted to UTF-8 (version 5)
	* Added select boxes ( or hidden ) html form elements to choose the network
	  for signup, lost password, username

2005-04-01 Benoit Grégoire  <benoitg@coeus.ca>
	* Add constraints to account_origin to detect errors on inserts.
	* Remove IDRC test server

2005-04-01 Philippe April <philippe@ilesansfil.org>
	* User.php: Add reference to $db global variable.
	* Tagged v0_1_0_alpha1
	* Removed spaces in AuthenticatorLocalUser.php

2005-03-31 Benoit Grégoire  <benoitg@coeus.ca>
	* Remove spaces after php blocks in various files.
	* Temporarily fix single authentication source not present bug in login
	  smarty template.  All other places where we select the network will be
	  fixed tommorow.
	* Fix initial schema errors.

2005-03-31 Benoit Grégoire  <benoitg@coeus.ca>
	* More RADIUS install documentation.
	* Fix schema_validate.php

2005-03-31 Francois Proulx  <francois.proulx@gmail.com>
 	* Moved language definition
 	* Moved e-mail subjects to User class ( each e-mail functions )

2005-03-31 Francois Proulx  <francois.proulx@gmail.com>
 	* Added missing schema_validate.php modifs.

2005-03-31 Francois Proulx  <francois.proulx@gmail.com>
	* Added PEAR install procedure

2005-03-30 François Proulx  <francois.proulx@gmail.com>
	* Finished RADIUS authentication and accounting
	* Accounting Unique session ID is now based on the same token we use
	* Fixed all issues with lost_username, lost_password etc...
	* User class has new static function getUsersByEmail and getUsersByUsername
	* Added translations for new features
	* Translated the validation, lost password, username e-mails
	* Tested quite a bit, this version is considered stable
	* A few examples on how set different RADIUS or local authenticators can be
	  found in the config.php

2005-03-29 François Proulx  <francois.proulx@gmail.com>
	* schema_validate.php : Modified schema : dropped e-mail + account unique
	  index, dropped email not empty constraint
	* Schema is now at version 3
	* Coded RADIUS authentication
	* Modified templates to show a select box when more than one server is
	  configured
	* Coded RADIUS accounting and backward compatibility accounting
	* Modified many statistics SQL queries to match new Users table
	* modified statistics templates to match user_id and account_origin
	* TODO : Fix lost_username and lost_password ( issue since we dropped the
	  unique constraint on emails... )
	* TODO : Heavy testing possibly with remote RADIUS servers

2005-03-28 Benoit Grégoire  <benoitg@coeus.ca>
	* sql:  Put initial data in a transaction, and specify the wifidog user so
	  you do not have to su to it while using sync_sql_for_svs

2005-03-28 Benoit Grégoire  <benoitg@coeus.ca>
	* common.php:  Add get_guid() function
	* validate_schema.php: New auto-upgrade script to allow autaumatic schema
	  upgrade.  Note that you must still update dump_initial_data_postgres.sh
	  and use sync_sql_for_cvs.sh so new users aren't left in the cold.
	* New class Authenticator (and subclasses):  Begin virtualizing the login
	  process.

2005-03-24 Benoit Grégoire  <benoitg@coeus.ca>
	* Statistics.php: Fix getMostGreedyUsers returning bad values when incoming
	  and outgoing for all connections from a user have null values.
	* wifidog/local_content/default/portal.html: Fix layout so it resizes
	  properly.  This in an interim measure.
	* Update schema.  This will allow automatic schema updates in the future.
	  TO update a live server:

      BEGIN;
      CREATE TABLE schema_info (
	    tag text PRIMARY KEY,
	    value text
	  );
	  INSERT INTO schema_info (tag, value) VALUES ('schema_version', '1');
	  COMMIT;

2005-03-16 Matthew Asham <matthewa@bcwireless.net>
    * config.php: will use "local.config.php" instead, if present.  avoid cvs
      over-writing.
    * signup.php: if CUSTOM_SIGNUP_URL is defined, signup.php will re-direct.
      For integration with existing auth systems
    * hotspot_status.php: ob_clean may complain about buffering.  muted.
    * ./classes/RssPressReview.inc: if rss_source['url'] is blank, ignore the
      feed.

2005-02-22 Benoit Grégoire  <benoitg@coeus.ca>
	* sql/dump_initial_data_postgres.sh, wifidog-postgres-initial-data.sql,
	  wifidog-postgres-schema.sql:-Widen the connections size to fix int4
	  wraparound problems.  To update a running server, execute the following
	  sql sniplet:

      BEGIN;
      ALTER TABLE connections RENAME incoming TO incoming_old;
      ALTER TABLE connections ADD COLUMN incoming int8;
      ALTER TABLE connections RENAME outgoing TO outgoing_old;
      ALTER TABLE connections ADD COLUMN outgoing int8;
      UPDATE connections set incoming=incoming_old, outgoing=outgoing_old;
      ALTER TABLE connections DROP COLUMN incoming_old;
      ALTER TABLE connections DROP COLUMN outgoing_old;
      COMMIT;

	* wifidog/admin/hotspot.php: Missing file from phil's commit.
	* wifidog/locale/fr/LC_MESSAGES/messages.mo, messages.po:  New translation
	  by Benoit St-André

2005-02-14 Philippe April <philippe@ilesansfil.org>
	* gw_message.php: the "activate" message was not properly defined and
	  would cause an error to show up instead of the nice activate your account
	  message

2005-02-14 Philippe April <philippe@ilesansfil.org>
	* wifidog/locale/gen.s: Was not working as expected, it will now get the
	  gettext from smarty properly.
	* Updated TODO with ideas on making config better

2005-01-31 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/templates/hotspot_status.html:  Restore the number of nodes
	* wifidog/hotspot_status.php: Restore the number of nodes, add formatting
	  and more information to the RSS feed.

2005-01-26 Philippe April <isf_lists@philippeapril.com>
	* Some kind of virtual login (we need to talk about this).
	* New User and Node classes
	* Modified all files to work with the classes.
	* Remove mgmt_helpers (all done in User class now)

2005-01-25 Benoit Grégoire  <benoitg@coeus.ca>
	* classes/Node.php:  New file, untested code example
	* wifidog/admin/admin_common.php: Remove double-defined BASEPATH

2005-01-25 Philippe April <isf_lists@philippeapril.com>
	* Changed initial postgres inserts sql file, it wasn't working properly

2005-01-25 Pascal Leclerc  <pascal@plec.ca>
	* Added admin and owner administration pages

2005-01-23 Philippe April <isf_lists@philippeapril.com>
	* Added gateway error messages (validation period, etc.)

2005-01-20 Philippe April <isf_lists@philippeapril.com>
	* Modularized the admin interface, added functions

2005-01-18 Philippe April <isf_lists@philippeapril.com>
	* Smarty'ized more, I think it's done now

2005-01-12 Philippe April <isf_lists@philippeapril.com>
	* i18n and smarty'ized parts

2005-01-11 Benoit Grégoire  <benoitg@coeus.ca>
	* INSTALL: Mandate PHP5
	* wifidog/hotspot_status.php: Allow export of the list as a RSS feed
	* wifidog/classes/RssPressReview.inc:  Make it truly functionnal.
	* wifidog/portal/index.php:  Support multiple RSS feeds.  The system will
	  automatically pick the best 5 entries from all the feeds.  It will
	  compensate for disparate publication intervals.  An entry from a feed that
	  does not publish often will live longer than an entry from a feed that
	  publishes very often.  If a feed doesn't have any entry that makes the
	  cut, it will not appear at all.
	* wifidog/templates/hotspot_status.html:  Add link to the RSS version.

2005-01-11 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/config.php:  Add list of hotspot to network rss feed list (not yet
	  functionnal)
	* wifidog/hotspot_status.php:  Allow RSS export of the list of deployed
	  Hotspots.
	* wifidog/admin/incoming_outgoing_swap.php:  Script to swap incoming and
	  outgoing in your data. Only use this if you had gateways before 1.0.2
	  and wish to correct your logs before you upgrade.
	* wifidog/classes/RssPressReview.inc:  Missing file from previous commit.
	* wifidog/portal/index.php: Preliminary work to enable smart press review
	  of multiple RSS feeds.

2005-01-10 Benoit Grégoire  <benoitg@coeus.ca>
	* include/common.php: Fix SSL security warnings.  If SSL is enabled and the
	  page was actually served over SSL, all media in the file will be served
	  over SSL. Add a new define (BASE_NON_SSL_PATH) to allow us to make links
	  that break out of SSL mode.  From now on, use the self adapting
	  BASE_URL_PATH in most circumstance, BASE_SSL_PATH to enter SSL mode,
	  and BASE_URL_PATH to break out of it.

2005-01-10 Benoit Grégoire  <benoitg@coeus.ca>
	* admin/user_stats.php: Add three top tens to the statistics:  Top ten
	  apetite for bandwidth, top ten travelers, most addicted users.

2005-01-04 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/local_content/default/hotspot_logo_banner.jpg: Make it much
	  thinner.
	* wifidog/local_content/default/login.html: Remove announcements
	* wifidog/include/user_management_menu.php: Fix mailto:
	* wifidog/auth/index.php: Fix auth server part of the no data transmited
	  statistics bug.
	* wifidog/admin/index.php: Add link to statistics
	* wifidog/admin/user_stats.php: Activate security.
	* wifidog/index.php: Make the distinction between the two hotspot status
	  pages clearer.

2004-12-08 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/index.php: Add menu
	* wifidog/include/user_management_menu.php: Editorial change, make
	  translateable
	* wifidog/portal/index.php:  Fix RSS feeds

2004-12-03 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/admin/user_stats.php,  wifidog/classes/Statistics.php:  Embryonic
	  aggregate user stats.  Currently allows you to find out the rate at which
	  your users subscribe.
	* wifidog/config.php, wifidog/local_content/default/login.html,
	  wifidog/include/user_management_menu.php:  Add hotspot status page to
	  login page.
	* wifidog/hotspot_status.php: Cosmetic
	* wifidog/admin/hotspot_log.php: Stats now need admin privileges
	* wifidog/index.php: Cosmetic.

2004-11-19 Benoit Grégoire  <benoitg@coeus.ca>
	* TODO: Add email domains to blacklist
	* wifidog/config.php, wifidog/include/user_management_menu.php: Add tech
	  support email address
	* wifidog/hotspot_status.php: List of HotSpots that are open with summary of
	  information.  Designed to be included as part of another page.
	* wifidog/local_content/common/wifidog_logo_banner.gif: Add wifidog logo
	* wifidog/local_content/default/hotspot_logo_banner.jpg: Shrink the logo
	  and write unknown hotspot, however this is still really ugly
	* wifidog/local_content/default/login.html, portal.html, stylesheet.css:
	  Cosmetic fixes
 	* wifidog/local_content/default/login.html.fr, portal.html.fr: Delete the
 	  files, this isn't the approach we will use for translation.
	* sql/wifidog-postgres-initial-data.sql, wifidog-postgres-schema.sql:
	  Update with new node information structures.

2004-11-04 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/admin/hotspot_log.php: Add number of currently connected users
	  here as well.

2004-11-03 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/ping/index.php: Log user-agent
	* extensive statistics work
	* sql/wifidog-postgres-schema.sql: Add description field for hotspots and
	  log user-agent

2004-10-28 Benoit Grégoire  <benoitg@coeus.ca>
	* sql/wifidog-postgres-schema.sql:  Add constraints to avoid empty string
	  in email or user_id.
	* Some statistics fixes

2004-09-29 Alexandre Carmel-Veilleux <acv@acv.ca>
	* wifidog/admin/index.php: Integrated the changes contributed
	  on the mailing list by Rikhardur EGILSSON (fname.lname@oecd.org),
	  mainly a missing ' in some HTML.

2004-09-28 Yanik Crépeau <yanik@exScriptis.com>
    * wifidog/include/common.php: Added commented header with cvs
	  keywords.
	* wifidog/include/common.php: Added commented code (not executing) for
	  further testing with language/localization issues.

2004-09-27 Benoit Grégoire  <benoitg@coeus.ca>
	* sql/wifidog-postgres-schema.sql:  Remove non SQL standard "COMMENT ON"
	  comments

2004-09-27 Benoit Grégoire  <benoitg@coeus.ca>
	* sql/wifidog-postgres-schema.sql:  Drop procedural language stuff

2004-09-27 Benoit Grégoire  <benoitg@coeus.ca>
	* sql/wifidog-postgres-schema.sql:  Fix layout for the node_owners table
	* Begin integrating Patrick Tanguay's new layout and generate the css
	  dynamically to allow for background images.

2004-09-22 Benoit Grégoire  <benoitg@coeus.ca>
	* portal/index.php:  Fix users appearing online at every hotspot.
	* wifidog/classes/Style.php, wifidog/login/index.php:  Fix some potential
	  cache problems and help with validation.

2004-09-18 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/config.php:  Add VALIDATION_GRACE_TIME configuration parameter.
	* wifidog/auth/index.php:  Move grace time date arithmetics to the database,
	  fixes validation period not working.  Stop storing VALIDATION_FAILES
	  status to the database.  Add check for validation period expiration at
	  stage login, not just stage counters, this will fix one minute
	  validation period.
	* wifidog/login/index.php:  Check validation period activation, and if
	  period is expired, explain to the user instead of redirecting to the
	  gateway.
	* wifidog/user_management/index.php:  Fix SQL error at new user registration.

2004-09-02 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/node_list.php: Complete the status page
	* Add images
	* Add hotspot creation date

2004-08-31 Benoit Grégoire  <benoitg@coeus.ca>
	* sql/: Update the postgres schemas and add scripts to ease maintaining it.
	* sql/sync_sql_for_cvs.sh: Should you modify the schema in your db, run this
	  script to the chances will be available in the cvs schemas and initial
	  data.
	* sql/dump_initial_data_postgres.sh: This does the actual dump of the data
	  in a runnable form.  Note that this needs to be edited manually if you add
	  a new table requiring initial data.
	* INSTALL:  Update for postgres.  Somebody please test this.

2004-08-31 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/ping/index.php: Implement logging of which hotspot sent the
	  heartbeat, from which ip and when.
	* wifidog/node_list.php:  Primitive but functionnal hotspot status page.
	* wifidog/include/user_management_menu.php:  Change menu labels
	* wifidog/local_content/default/login.html: Improve layout.  Someone needs
	  to make this stylesheet correct, I took shortcuts...
	* wifidog/local_content/default/stylesheet.css:  Reduce H1 font size.
	* wifidog/user_management/index.php:  Display the menu, will eventually
	  allow us to present proper help text.

2004-08-30 Benoit Grégoire  <benoitg@coeus.ca>
	* Add link to original requested site.
	* wifidog/node_list.php:  New file.  Will become the main node status page.

2004-08-28 Benoit Grégoire  <benoitg@coeus.ca>
	* Primitive network status available form the index page
	* Administrative security is implemented.

2004-08-28 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix big gaping security hole in login page (password would be ignored if
	  the username was used to login)
	* PostgreSql port
	* Change the method to determine who is online
	* Stop keeping unused token once user successfully logs in.
	* Fix missing update of token update date.
	* Counters wouldn't get updated for stage=LOGOUT
	* wifidog/auth/index.php:  Added a Messages: response in addition to Auth:
	  so we can know what the hell the server is up to.  Currently you need to
	  run wifidog in debug level 7 to see it. That message should be parsed so
	  it is visible in debug level 6.
	* wifidog/auth/index.php:   Fix code injection vulnerability.

2004-08-27 Benoit Grégoire  <benoitg@coeus.ca>
	* SSL support and RSS improvement
	* Last commit tested with mysql support

2004-08-24 Pascal Leclerc  <pascal@plec.ca>
	* wifidog/admin/user_log.php: Add total to incoming and outgoing
	* Replace all SERVER_NAME by HTTP_HOST to fix non-standard server ports

2004-08-11 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog/config.php: Add USER_MANAGEMENT_PAGE
	* wifidog/include/user_management_menu.php:  Code meant to deal with
	  non-standard ports broke the menu.  Hopefully fixed.
	* Add alex's mising changelog entry...

2004-08-11 Alexandre Carmel-Veilleux <acv@acv.ca>
	* wifidog/ping/index.php: will now reply if the wifidog auth server is up.
	  To be used by wifidog to do heartbeats.

2004-08-07 Benoit Grégoire  <benoitg@coeus.ca>
	* Add code to import a NoCat user database (passwd).  The username will be
	  generated from the first part of the email if the name was en email.
	* Change password hashing algorithm to make it compatible with NoCat (For
	  the curious among you, the hashing algorithm is now:  take the md5
	  digest in binary format of the password, and base64 encode it.
	* Table schema changed to accomodate newhash length (users.pass is now
	  varchar(32))
	* The user is now allowed to login with either his username or his email.

2004-08-03 Pascal Leclerc  <pascal@plec.ca>
	* wifidog/classes/SmartyWifidog.php: Fix path validation bug, replace
	  NODE_CONTENT_URL with NODE_CONTENT_PHP_RELATIVE_PATH
	* wifidog/classes/AbstractDb.php: Add class=warning for better display
	* wifidog/config.php: Add SYSTEM_PATH and test/fix non-standard server ports

2004-08-03 Benoit Grégoire  <benoitg@coeus.ca>
	* Make gettext support optionnal, and define GETTEXT_AVAILABLE, will be set
	  to true if gettext is available.  If false, blank _() and gettext()
	  functions will be defined so the system still works.

2004-08-03 Benoit Grégoire  <benoitg@coeus.ca>
	* Fix BASE_URL_PATH to properly detect non-standard server ports (hopefully).

2004-08-02 Benoit Grégoire  <benoitg@coeus.ca>
	* wifidog-auth lives! New since the dark ages
	* Demo page to allow people to hack more easely on it
	* Support for multiple nodes.  TODO:  Merge with the database project.
	* Very cool local content architecture.  Every hotspot can have a folder in
	  the local_content directory.  This folder can be filed by a single logo,
	  leaving all the rest to the default content, or be completely custom
	  (stylesheet, login page, portal page, header, etc.)
	* Everything in local content is templated with smarty, no problem with
	  web designer wrecking havoc on the auth server.  You can edit everything
	  in local_content/default even if you only speak html.
	* No need to set any path in the web server config files (that one was a
	  bitch to implement)
	* RSS feed support (optionnal, with magpierss), one feed per node (url
	  stored in the database, works great, but no gui to edit it yet) and one
	  network-wide RSS feed.
	* All path are editable from the config file
	* "Productize" the thing, so it make sense for other groups to install it
	  (the network name, url, default RSS, and such are set from the config
	  file).
	* Put most strings in gettext calls for easy future translation.
	* User can request that the server send the validation email again
	* User can change password
	* User who forgot his username can have it mailed to him.
	* User who lost his password can ask the system to generate a new one and
	  mail it to him.
	* Email is now a separate field to preserve user privacy.
	* Enforces (politely) that there are no duplicate emails in the database
	* Database abstraction layer with very nice debugging features (just append
	  true at the end of the call, and you'll see the query, the results, the
	  query plan and number of affected rows.  Also allow future upgrade to
	  postgres.
	* Lots of other things I forgot.
